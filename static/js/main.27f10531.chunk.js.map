{"version":3,"sources":["store/modules/auth/selectors.ts","lib/local-storage.js","api/http-client.js","api/auth.ts","lib/create_query_string.ts","api/account.ts","api/movies.ts","api/search.ts","api/tv.ts","api/index.ts","store/modules/auth/reducer.ts","hooks/useActions.js","store/modules/auth/index.ts","store/modules/account/selectors.ts","store/modules/account/reducer.ts","store/modules/account/index.ts","hooks/useMenu.tsx","components/Header/components/menu.tsx","components/Header/components/nav-items.tsx","store/modules/search/reducer.ts","store/modules/search/selectors.ts","store/modules/search/index.ts","components/Header/components/search-results-list.tsx","components/Header/index.tsx","pages/auth/index.tsx","store/modules/movies/reducers/currentMovie.ts","store/modules/movies/reducers/recommendations.ts","store/modules/movies/reducers/similar.ts","store/modules/movies/reducers/discovered.ts","store/modules/movies/reducers/nowPlaying.ts","store/modules/movies/reducers/popular.ts","store/modules/movies/reducers/topRated.ts","store/modules/movies/reducers/upcoming.ts","store/modules/movies/reducers/watchlist.ts","store/modules/movies/reducers/favoritelist.ts","store/modules/movies/reducers/index.ts","store/modules/movies/selectors.ts","store/modules/movies/index.ts","components/CardsList/UMenu.tsx","components/CardsList/CardItem.tsx","components/CardsList/MovieCard.tsx","components/CardsList/index.tsx","lib/parse_query_string.js","pages/_base/baseMovies.tsx","components/Expand/index.tsx","hooks/useToggle.ts","components/CardSlider/index.tsx","pages/movies/by-id.tsx","pages/movies/by-genre.tsx","pages/movies/index.ts","pages/movies/popular.tsx","pages/movies/now-playing.tsx","pages/movies/recommendations.tsx","pages/movies/similar.tsx","pages/movies/top-rated.tsx","pages/movies/upcoming.tsx","store/modules/tv/reducers/currentTV.ts","store/modules/tv/reducers/recommendations.ts","store/modules/tv/reducers/similar.ts","store/modules/tv/reducers/discovered.ts","store/modules/tv/reducers/airingToday.ts","store/modules/tv/reducers/popular.ts","store/modules/tv/reducers/topRated.ts","store/modules/tv/reducers/onTheAir.ts","store/modules/tv/reducers/watchlist.ts","store/modules/tv/reducers/favoritelist.ts","store/modules/tv/reducers/index.ts","store/modules/tv/selectors.ts","store/modules/tv/index.ts","components/CardsList/TVCard.tsx","pages/_base/baseTV.tsx","pages/tv/by-id.tsx","pages/tv/by-genre.tsx","pages/tv/index.ts","pages/tv/popular.tsx","pages/tv/recommendations.tsx","pages/tv/top-rated.tsx","pages/tv/airing-today.tsx","pages/tv/similar.tsx","pages/tv/on-the-air.tsx","pages/search/index.tsx","pages/home/index.tsx","pages/profile/profile.tsx","pages/profile/movies/favoritelist.tsx","pages/profile/index.tsx","pages/profile/movies/index.tsx","pages/profile/movies/watchlist.tsx","pages/profile/tv/index.tsx","pages/profile/tv/favoritelist.tsx","pages/profile/tv/watchlist.tsx","hoc/private-route.tsx","App.tsx","store/index.ts","locales/ru.js","locales/en.js","index.tsx"],"names":["getAuthStatus","state","auth","isAuth","localStorage","storeName","item","window","setItem","JSON","stringify","parse","getItem","removeItem","http","axios","create","baseURL","interceptors","request","use","config","params","process","session_id","encodeURIComponent","lang","response","error","Promise","reject","data","status","_createRequestToken","get","then","res","_createSessionWithLogin","username","password","request_token","post","_createSession","_saveSessionToLocalStorage","expires_at","token","signIn","a","tokenResponse","approvedTokenResponse","sessionResponse","signUp","win","open","resolve","setTimeout","closed","signOut","delete","authApi","createQueryString","obj","str","p","hasOwnProperty","push","join","accountApi","account_id","body","page","moviesApi","movie_id","append_to_response","region","args","searchApi","query","tvApi","tv_id","getImageLink","path","size","initialState","responseStatus","ok","localActions","type","payload","actions","dispatch","message","updateAuthStatus","useActions","useDispatch","useMemo","bindActionCreators","useSelector","getProfileDetails","account","profileData","setProfileDetails","user","getProfile","dropProfile","addToWatchList","getState","id","addToFavoriteList","useMenu","React","useState","anchorEl","setAnchorEl","event","currentTarget","FadeMenu","props","history","useHistory","close","onSignOutClick","useTranslation","t","i18n","Avatar","aria-controls","aria-haspopup","onClick","src","avatarLink","Menu","keepMounted","Boolean","onClose","MenuItem","changeLanguage","useStyles","makeStyles","theme","title","flexGrow","link","color","textDecoration","navWrapper","position","display","listStyle","fontSize","cursor","fontWeight","navContent","backgroundColor","top","borderRadius","NavItems","classes","Typography","variant","className","Button","to","searchResult","setResult","result","find","inSearchInputMode","getSearchResult","search","createStyles","root","padding","width","palette","background","paper","zIndex","drawer","SearchResultsList","isOpened","results","onRedirect","List","total_results","map","media","ListItem","key","role","undefined","dense","button","getUrl","ListItemIcon","getIcon","ListItemText","style","marginTop","primary","getTitle","ListItemSecondaryAction","textAlign","media_type","release_date","Date","getFullYear","name","first_air_date","marginBottom","menuButton","marginRight","spacing","cursorPointer","backdrop","appBar","searchForm","transition","Header","profile","searchInput","useRef","setOpen","searchValue","setSearchValue","didResultFind","setFindStatus","timeout","onSubmit","preventDefault","closeSearchInput","current","focus","Backdrop","AppBar","Toolbar","target","dataset","data-target","InputBase","value","onChange","clearTimeout","inputRef","placeholder","inputProps","IconButton","avatar","gravatar","hash","Fragment","margin","maxWidth","flexDirection","alignItems","secondary","main","form","submit","Auth","onFormSubmit","onSignUpClick","isFormFieldValid","info","touched","CssBaseline","component","validate","values","errors","render","handleSubmit","submitting","pristine","input","meta","TextField","required","fullWidth","label","autoComplete","autoFocus","helperText","disabled","Grid","container","Link","isLoading","setData","setLoadingStatus","setError","moviesReducer","combineReducers","currentMovie","action","recommendations","similar","popular","nowPlaying","upcoming","topRated","discovered","watchlist","favoritelist","getMovieDetails","getRecommendations","getSimilarMovies","getDiscoveredMovies","getNowPlayingMovies","getPopularMovies","getTopRatedMovies","getUpcomingMovies","getWatchList","getFavoriteList","getDetails","movies","getSimilar","getPopular","getNowPlaying","getTopRated","getUpcoming","getDiscovered","useDetails","UMenu","setState","useEffect","language","media_id","onWatchListClick","onFavoriteListClick","favorite","bottom","right","e","height","cardAction","justifyContent","grid","flexShrink","CardItem","children","xs","sm","md","lg","Paper","Card","CardActionArea","cardContent","alignSelf","boxSizing","skeletonMedia","MovieCard","card","handleClick","useCallback","toString","Skeleton","animation","alt","poster_path","CardContent","gutterBottom","toLocaleDateString","CardsList","styles","Array","fill","el","idx","parseQueryString","substring","split","reduce","acc","decodeURIComponent","pagination","Page","content","getter","withURLParam","useLocation","pageNumber","parseInt","setPage","matchedParams","useRouteMatch","movieID","Pagination","count","total_pages","switchPage","expandBtn","expanded","Expand","isOpen","setIsOpen","v","useToggle","isExpanded","toggle","slider","overflowX","minWidth","CardSlider","flexWrap","header","backgroundPosition","backgroundSize","backgroundRepeat","containerImage","containerExternalLinks","image","imageSkeleton","details","zidx","genresLink","videoWrapper","paddingTop","left","Popular","NowPlaying","ByID","useRecommendations","useSimilar","videos","detailsOverview","overview","original_title","Rating","max","vote_average","readOnly","Box","toUpperCase","runtime","Math","trunc","tagline","Number","isInteger","budget","genres","length","slice","overflowY","frameBorder","allowFullScreen","Recommendations","Similar","TopRated","Upcoming","ByGenre","movi","genre_id","genre","with_genres","tvReducer","currentTV","airingToday","onTheAir","getTVDetails","getSimilarTV","getDiscoveredTV","getAiringTodayTV","getPopularTV","getTopRatedTV","getOnTheAirTV","tv","getOnTheAir","getAiringToday","TVCard","tvID","original_name","episode_run_time","number_of_episodes","number_of_seasons","tvs","AiringToday","OnTheAir","Search","searchRes","catch","err","Home","popularMovies","popularTTV","TabPanel","index","other","hidden","aria-labelledby","Profile","setValue","profileName","moviesWL","moviesFL","moviesAct","tvWL","tvFL","tvAct","Tabs","newValue","aria-label","Tab","FavoriteList","WatchList","PrivateRoute","createMuiTheme","App","tryToGetProfile","pathname","scrollTo","ThemeProvider","Container","exact","rootReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","en","translation","home","initReactI18next","init","resources","ru","lng","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27f10531.chunk.js","sourcesContent":["import { AppStateType } from '@src/store';\r\n\r\nexport const getAuthStatus = (state: AppStateType) => state.auth.isAuth;\r\nexport const getResponseStatus = (state: AppStateType) =>\r\n  state.auth.responseStatus;\r\n","export const localStorage = {\r\n  save: (storeName, item = {}) => {\r\n    window.localStorage.setItem(storeName, JSON.stringify(item));\r\n  },\r\n  load: (storeName) => {\r\n    return JSON.parse(window.localStorage.getItem(storeName)) || {};\r\n  },\r\n  remove: (storeName) => {\r\n    window.localStorage.removeItem(storeName);\r\n  },\r\n};\r\n","import axios from 'axios'\r\nimport { localStorage } from '@src/lib/local-storage'\r\n\r\nexport const http = axios.create({\r\n  baseURL: 'https://api.themoviedb.org/3/',\r\n})\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  config.params = config.params || {}\r\n  config.params['api_key'] = process.env.REACT_APP_API_KEY\r\n\r\n  const session_id = localStorage.load('session').session_id || ''\r\n  config.params['session_id'] = encodeURIComponent(session_id)\r\n\r\n  const lang = localStorage.load('lang') || 'en-US'\r\n  config.params['language'] = encodeURIComponent(lang)\r\n  return config\r\n})\r\n\r\nhttp.interceptors.response.use(\r\n  function (response) {\r\n    return response\r\n  },\r\n  function (error) {\r\n    return Promise.reject({\r\n      response: {\r\n        data: error.response.data,\r\n        status: error.response.status,\r\n      },\r\n    })\r\n  }\r\n)\r\n","import { http } from './http-client.js';\r\nimport { localStorage } from '@src/lib/local-storage';\r\n\r\ntype TCGSSuccess = {\r\n  success: boolean;\r\n  guest_session_id: string;\r\n  expires_at: string;\r\n};\r\nconst _createGuestSession = () =>\r\n  http.get<TCGSSuccess>('/authentication/guest_session/new').then((res) => res);\r\n\r\ntype TCRTSuccess = {\r\n  success: boolean;\r\n  expires_at: string;\r\n  request_token: string;\r\n};\r\n\r\nconst _createRequestToken = () =>\r\n  http.get<TCRTSuccess>('/authentication/token/new').then((res) => res);\r\n\r\nconst _createSessionWithLogin = (\r\n  username: string,\r\n  password: string,\r\n  request_token: string\r\n) =>\r\n  http\r\n    .post<TCRTSuccess>('/authentication/token/validate_with_login', {\r\n      username,\r\n      password,\r\n      request_token,\r\n    })\r\n    .then((res) => res.data);\r\n\r\ntype TCSSuccess = {\r\n  type: 'success';\r\n  success: boolean;\r\n  session_id: string;\r\n};\r\n\r\nconst _createSession = (request_token: string) =>\r\n  http\r\n    .post<TCSSuccess>('/authentication/session/new', {\r\n      request_token,\r\n    })\r\n    .then((res) => res.data);\r\n\r\ntype TDSSuccess = {\r\n  success: boolean;\r\n};\r\n\r\nconst _deleteSession = (session_id: string) =>\r\n  http\r\n    .delete<TDSSuccess>('/authentication/session', { data: { session_id } })\r\n    .then((res) => res.data);\r\n\r\nconst _getAuthLink = (token: string) =>\r\n  `https://www.themoviedb.org/authenticate/${token}`;\r\n\r\nconst _saveSessionToLocalStorage = (\r\n  session_id: string,\r\n  request_token: string,\r\n  expires_at: string\r\n): void =>\r\n  localStorage.save('session', {\r\n    session_id,\r\n    token: { request_token, expires_at },\r\n  });\r\n\r\nconst signIn = async (username: string, password: string) => {\r\n  try {\r\n    const tokenResponse = await _createRequestToken();\r\n    const approvedTokenResponse = await _createSessionWithLogin(\r\n      username,\r\n      password,\r\n      tokenResponse.data.request_token\r\n    );\r\n\r\n    const sessionResponse = await _createSession(\r\n      approvedTokenResponse.request_token\r\n    );\r\n\r\n    _saveSessionToLocalStorage(\r\n      sessionResponse.session_id,\r\n      approvedTokenResponse.request_token,\r\n      approvedTokenResponse.expires_at\r\n    );\r\n    return sessionResponse;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst signUp = async () => {\r\n  const tokenResponse = await _createRequestToken();\r\n  const win = window.open(\r\n    _getAuthLink(tokenResponse.data.request_token),\r\n    '_blank',\r\n    'height=600,width=600'\r\n  );\r\n  while (true) {\r\n    await new Promise((resolve) => setTimeout(resolve, 500));\r\n\r\n    if (win!.closed) {\r\n      const sessionResponse = await _createSession(\r\n        tokenResponse.data.request_token\r\n      );\r\n      _saveSessionToLocalStorage(\r\n        sessionResponse.session_id,\r\n        tokenResponse.data.request_token,\r\n        tokenResponse.data.expires_at\r\n      );\r\n      return sessionResponse;\r\n    }\r\n  }\r\n};\r\nconst signOut = async () => {\r\n  try {\r\n    _deleteSession(localStorage.load('session').session_id);\r\n  } finally {\r\n    localStorage.remove('session');\r\n  }\r\n};\r\nexport const authApi = {\r\n  signIn,\r\n  signUp,\r\n  signOut,\r\n};\r\n","export const createQueryString = function (obj: any) {\r\n  let str: Array<string> = []\r\n  for (let p in obj)\r\n    if (obj.hasOwnProperty(p) && obj[p]) {\r\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]))\r\n    }\r\n  return str.join('&')\r\n}\r\n","import { http } from './http-client.js'\r\nimport {\r\n  TUserProfile,\r\n  TWatchList,\r\n  TFavorite,\r\n} from '@src/store/modules/account/types'\r\nimport { TResponseError } from './types.js'\r\nimport { TPopularMovies } from '@src/store/modules/movies/types.js'\r\nimport { TPopularTV } from '@src/store/modules/tv/types.js'\r\nimport { createQueryString } from '@src/lib/create_query_string'\r\n\r\nconst getDetails = () =>\r\n  http.get<TUserProfile>('/account').then((res) => res.data)\r\n\r\nconst addToWatchList = (account_id: number, body: TWatchList) =>\r\n  http\r\n    .post<TResponseError>(`/account/${account_id}/watchlist`, { ...body })\r\n    .then((res) => res.data)\r\n\r\nconst markAsFavorite = (account_id: number, body: TFavorite) =>\r\n  http\r\n    .post<TResponseError>(`/account/${account_id}/favorite`, { ...body })\r\n    .then((res) => res.data)\r\n\r\nconst getMovieWatchList = (account_id: number, page?: number) =>\r\n  http\r\n    .get<TPopularMovies>(\r\n      `/account/${account_id}/watchlist/movies?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getMovieFavoriteList = (account_id: number, page?: number) =>\r\n  http\r\n    .get<TPopularMovies>(\r\n      `/account/${account_id}/favorite/movies?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getTVWatchList = (account_id: number, page?: number) =>\r\n  http\r\n    .get<TPopularTV>(\r\n      `/account/${account_id}/watchlist/tv?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getTVFavoriteList = (account_id: number, page?: number) =>\r\n  http\r\n    .get<TPopularTV>(\r\n      `/account/${account_id}/favorite/tv?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nexport const accountApi = {\r\n  getDetails,\r\n  addToWatchList,\r\n  markAsFavorite,\r\n  getMovieWatchList,\r\n  getTVWatchList,\r\n  getTVFavoriteList,\r\n  getMovieFavoriteList,\r\n}\r\n","import { http } from './http-client.js'\r\nimport {\r\n  TMovieDetails,\r\n  TPopularMovies,\r\n  TNowPlayingMovies,\r\n  TTopRatedMovies,\r\n  TUpcomingMovies,\r\n  TSimilarMovies,\r\n  TRecommendations,\r\n  TVideo,\r\n  TMovieExternalIds,\r\n  TDiscoveredMovies,\r\n  TDiscoverMovie,\r\n} from '@src/store/modules/movies/types'\r\nimport { createQueryString } from '@src/lib/create_query_string'\r\nimport { TAccountStates } from '@src/store/modules/account/types.js'\r\n\r\nconst getDetails = (movie_id: number, append_to_response: string) =>\r\n  http\r\n    .get<TMovieDetails>(\r\n      `/movie/${movie_id}?${createQueryString({ append_to_response })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getPopular = (page?: number, region?: string) =>\r\n  http\r\n    .get<TPopularMovies>(\r\n      `/movie/popular?${createQueryString({ page, region })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getNowPlaying = (page?: number, region?: string) =>\r\n  http\r\n    .get<TNowPlayingMovies>(\r\n      `/movie/now_playing?${createQueryString({ page, region })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getTopRated = (page?: number, region?: string) =>\r\n  http\r\n    .get<TTopRatedMovies>(\r\n      `/movie/top_rated?${createQueryString({ page, region })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getUpcoming = (page?: number) =>\r\n  http\r\n    .get<TUpcomingMovies>(`/movie/upcoming?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\n\r\nconst getSimilar = (movie_id: number, page?: number) =>\r\n  http\r\n    .get<TSimilarMovies>(\r\n      `/movie/${movie_id}/similar?${createQueryString({ page })}`\r\n    )\r\n    .then((res) => res.data)\r\n\r\nconst getRecommendations = (movie_id: number, page?: number) =>\r\n  http\r\n    .get<TRecommendations>(\r\n      `/movie/${movie_id}/recommendations?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getVideos = (movie_id: number) =>\r\n  http.get<TVideo>(`/movie/${movie_id}/videos?`).then((res) => res.data)\r\n\r\nconst getExternalIds = (movie_id: number) =>\r\n  http\r\n    .get<TMovieExternalIds>(`/movie/${movie_id}/external_ids?`)\r\n    .then((res) => res.data)\r\n\r\nconst getDiscovered = (args: TDiscoverMovie) =>\r\n  http\r\n    .get<TDiscoveredMovies>(\r\n      `/discover/movie?${createQueryString({\r\n        ...args,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getAccountStates = (movie_id: number) =>\r\n  http\r\n    .get<TAccountStates>(`/movie/${movie_id}/account_states`)\r\n    .then((res) => res.data)\r\n\r\nexport const moviesApi = {\r\n  getDetails,\r\n  getPopular,\r\n  getNowPlaying,\r\n  getTopRated,\r\n  getUpcoming,\r\n  getSimilar,\r\n  getRecommendations,\r\n  getVideos,\r\n  getExternalIds,\r\n  getDiscovered,\r\n  getAccountStates,\r\n}\r\n","import { http } from './http-client'\r\nimport { TSearchResult } from '@src/store/modules/search/types'\r\nimport { createQueryString } from '@src/lib/create_query_string'\r\n\r\nconst search = (query: string, page?: number) =>\r\n  http\r\n    .get<TSearchResult>(\r\n      `search/multi?${createQueryString({\r\n        page,\r\n        query,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nexport const searchApi = {\r\n  search,\r\n}\r\n","import { http } from './http-client.js'\r\nimport {\r\n  TTVDetails,\r\n  TPopularTV,\r\n  TTopRatedTV,\r\n  TOnTheAirTV,\r\n  TAiringTodayTV,\r\n  TRecommendations,\r\n  TSimilarTV,\r\n  TTVExternalIds,\r\n  TVideo,\r\n  TDiscoveredTV,\r\n  TDiscoverTV,\r\n} from '@src/store/modules/tv/types'\r\nimport { createQueryString } from '@src/lib/create_query_string'\r\nimport { TAccountStates } from '@src/store/modules/account/types.js'\r\n\r\nconst getDetails = (tv_id: number, append_to_response: string) =>\r\n  http\r\n    .get<TTVDetails>(\r\n      `/tv/${tv_id}?${createQueryString({ append_to_response })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getPopular = (page?: number) =>\r\n  http\r\n    .get<TPopularTV>(`/tv/popular?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\nconst getTopRated = (page?: number) =>\r\n  http\r\n    .get<TTopRatedTV>(`/tv/top_rated?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\nconst getOnTheAir = (page?: number) =>\r\n  http\r\n    .get<TOnTheAirTV>(`/tv/on_the_air?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\nconst getAiringToday = (page?: number) =>\r\n  http\r\n    .get<TAiringTodayTV>(`/tv/airing_today?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\nconst getSimilar = (tv_id: number, page?: number) =>\r\n  http\r\n    .get<TSimilarTV>(`/tv/${tv_id}/similar?${createQueryString({ page })}`)\r\n    .then((res) => res.data)\r\n\r\nconst getRecommendations = (tv_id: number, page?: number) =>\r\n  http\r\n    .get<TRecommendations>(\r\n      `/tv/${tv_id}/recommendations?${createQueryString({\r\n        page,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getVideos = (movie_id: number) =>\r\n  http.get<TVideo>(`/tv/${movie_id}/videos?`).then((res) => res.data)\r\n\r\nconst getExternalIds = (movie_id: number) =>\r\n  http\r\n    .get<TTVExternalIds>(`/tv/${movie_id}/external_ids?`)\r\n    .then((res) => res.data)\r\n\r\nconst getDiscovered = (args: TDiscoverTV) =>\r\n  http\r\n    .get<TDiscoveredTV>(\r\n      `/discover/tv?${createQueryString({\r\n        ...args,\r\n      })}`\r\n    )\r\n    .then((res) => res.data)\r\nconst getAccountStates = (tv_id: number) =>\r\n  http\r\n    .get<TAccountStates>(`/tv/${tv_id}/account_states`)\r\n    .then((res) => res.data)\r\n\r\nexport const tvApi = {\r\n  getDetails,\r\n  getPopular,\r\n  getTopRated,\r\n  getOnTheAir,\r\n  getAiringToday,\r\n  getSimilar,\r\n  getVideos,\r\n  getRecommendations,\r\n  getExternalIds,\r\n  getDiscovered,\r\n  getAccountStates,\r\n}\r\n","export { authApi } from './auth'\r\nexport { accountApi } from './account'\r\nexport { moviesApi } from './movies'\r\nexport { searchApi } from './search'\r\nexport { tvApi } from './tv'\r\n//@ts-ignore\r\nexport const getImageLink = (path, size = 'w500') =>\r\n  `https://image.tmdb.org/t/p/${size}/${path}`\r\n","import { InferActionsTypes, BaseThunkType } from '../..';\r\nimport { authApi } from '@src/api';\r\nimport { Dispatch } from 'redux';\r\nimport { AxiosResponse } from 'axios';\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof localActions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;\r\ntype TInitialState = typeof initialState;\r\n\r\ntype TResponseStatus = {\r\n  ok: boolean;\r\n  response: AxiosResponse | null;\r\n};\r\nlet initialState = {\r\n  isAuth: false,\r\n  responseStatus: { ok: false, response: {} } as TResponseStatus,\r\n};\r\n\r\nexport const authReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/auth/SET_AUTH_STATUS':\r\n      return { ...state, isAuth: action.payload.isAuth };\r\n    case 'tmdb/auth/SET_RESPONSE_STATUS':\r\n      return {\r\n        ...state,\r\n        responseStatus: {\r\n          ok: action.payload.ok,\r\n          response: action.payload.response,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst localActions = {\r\n  setAuthStatus: (isAuth: boolean) =>\r\n    ({ type: 'tmdb/auth/SET_AUTH_STATUS', payload: { isAuth } } as const),\r\n  setResponseStatus: ({ ok, response }: TResponseStatus) =>\r\n    ({\r\n      type: 'tmdb/auth/SET_RESPONSE_STATUS',\r\n      payload: { ok, response },\r\n    } as const),\r\n};\r\nconst updateAuthStatus = (isAuth: boolean): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  dispatch(localActions.setAuthStatus(isAuth));\r\n};\r\nconst signIn = (username: string, password: string): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    await authApi.signIn(username, password);\r\n\r\n    dispatch(localActions.setAuthStatus(true));\r\n    dispatch(localActions.setResponseStatus({ ok: true, response: null }));\r\n  } catch (error) {\r\n    dispatch(\r\n      localActions.setResponseStatus({ ok: false, response: error.response })\r\n    );\r\n    throw error.message;\r\n  }\r\n};\r\n\r\nconst signUp = (): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    await authApi.signUp();\r\n\r\n    dispatch(localActions.setAuthStatus(true));\r\n    dispatch(localActions.setResponseStatus({ ok: true, response: null }));\r\n  } catch (error) {\r\n    dispatch(\r\n      localActions.setResponseStatus({ ok: false, response: error.response })\r\n    );\r\n    throw error.message;\r\n  }\r\n};\r\nconst signOut = (): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    authApi.signOut();\r\n    dispatch(localActions.setAuthStatus(false));\r\n    dispatch(localActions.setResponseStatus({ ok: true, response: null }));\r\n  } catch (error) {\r\n    dispatch(\r\n      localActions.setResponseStatus({ ok: false, response: error.response })\r\n    );\r\n    throw error.message;\r\n  }\r\n};\r\n\r\nexport const actions = {\r\n  signUp,\r\n  signOut,\r\n  signIn,\r\n  updateAuthStatus,\r\n};\r\n","import { bindActionCreators } from 'redux'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useMemo } from 'react'\r\n\r\nexport const useActions = (actions) => {\r\n  const dispatch = useDispatch()\r\n  return useMemo(() => {\r\n    return bindActionCreators(actions, dispatch)\r\n  }, [dispatch])\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { getResponseStatus, getAuthStatus } from './selectors';\r\n\r\nimport { actions, authReducer } from './reducer';\r\nimport { useActions } from '@src/hooks/useActions';\r\n\r\nexport { authReducer };\r\n\r\nexport const auth = {\r\n  useStatus: () => useSelector(getAuthStatus),\r\n  useResponseStatus: () => useSelector(getResponseStatus),\r\n  useActions: (): typeof actions => useActions(actions),\r\n};\r\n","import { AppStateType } from '@src/store';\r\n\r\nexport const getProfileDetails = (state: AppStateType) =>\r\n  state.account.profileData;\r\n","import { InferActionsTypes, BaseThunkType } from '../..'\r\nimport { accountApi } from '@src/api'\r\nimport { Dispatch } from 'redux'\r\nimport {\r\n  TUserProfile,\r\n  TWatchList,\r\n  TFavorite,\r\n} from '@src/store/modules/account/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof localActions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  profileData: {} as TUserProfile | null,\r\n}\r\nexport const accountReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/account/SET_PROFILE_DETAILS':\r\n      return { ...state, profileData: action.payload.user }\r\n    default:\r\n      return state\r\n  }\r\n}\r\nconst localActions = {\r\n  setProfileDetails: (user: typeof initialState.profileData) =>\r\n    ({\r\n      type: 'tmdb/account/SET_PROFILE_DETAILS',\r\n      payload: { user },\r\n    } as const),\r\n}\r\n\r\nconst getProfile = (): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(localActions.setProfileDetails(await accountApi.getDetails()))\r\n  } catch (error) {\r\n    throw error.response\r\n  }\r\n}\r\n\r\nconst dropProfile = (): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(localActions.setProfileDetails(null))\r\n  } catch (error) {\r\n    throw error.response\r\n  }\r\n}\r\n\r\nconst addToWatchList = (body: TWatchList): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    await accountApi.addToWatchList(getState().account.profileData!.id, body)\r\n  } catch (error) {\r\n    throw error.response\r\n  }\r\n}\r\nconst addToFavoriteList = (body: TFavorite): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    await accountApi.markAsFavorite(getState().account.profileData!.id, body)\r\n  } catch (error) {\r\n    throw error.response\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  getProfile,\r\n  dropProfile,\r\n  addToWatchList,\r\n  addToFavoriteList,\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { getProfileDetails } from './selectors';\r\n\r\nimport { actions, accountReducer } from './reducer';\r\nimport { useActions } from '@src/hooks/useActions';\r\n\r\nexport { accountReducer };\r\n\r\nexport const account = {\r\n  useProfileDetails: () => useSelector(getProfileDetails),\r\n  useActions: (): typeof actions => useActions(actions),\r\n};\r\n","import React from 'react'\r\n\r\nexport const useMenu = () => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\r\n\r\n  const open = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const close = () => {\r\n    setAnchorEl(null)\r\n  }\r\n\r\n  return [anchorEl, open, close] as const\r\n}\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { auth } from '@src/store/modules/auth'\r\nimport { account } from '@src/store/modules/account'\r\nimport { useMenu } from '@src/hooks/useMenu'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { localStorage } from '@src/lib/local-storage'\r\n\r\nexport const FadeMenu = (props: { avatarLink: string | undefined }) => {\r\n  const { signOut } = auth.useActions()\r\n  const { dropProfile } = account.useActions()\r\n\r\n  const history = useHistory()\r\n  const [anchorEl, open, close] = useMenu()\r\n\r\n  const onSignOutClick = async () => {\r\n    try {\r\n      await signOut()\r\n      await dropProfile()\r\n    } catch (err) {}\r\n  }\r\n  const onProfileClick = () => {\r\n    close()\r\n    history.push('/profile/')\r\n  }\r\n  const [t, i18n] = useTranslation()\r\n\r\n  return (\r\n    <div>\r\n      <Avatar\r\n        aria-controls=\"simple-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={open}\r\n        src={props.avatarLink}\r\n      />\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={close}\r\n      >\r\n        <MenuItem onClick={onProfileClick}>{t('menu profile')}</MenuItem>\r\n        <MenuItem onClick={onSignOutClick}>{t('menu logout')}</MenuItem>\r\n        <MenuItem\r\n          onClick={() => {\r\n            i18n.changeLanguage('en')\r\n            localStorage.save('lang', 'en-US')\r\n          }}\r\n        >\r\n          eng\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => {\r\n            i18n.changeLanguage('ru')\r\n            localStorage.save('lang', 'ru-RU')\r\n          }}\r\n        >\r\n          rus\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  makeStyles,\r\n  Typography,\r\n  Button,\r\n  Theme,\r\n  MenuItem,\r\n} from '@material-ui/core'\r\nimport { NavLink, Link } from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  link: {\r\n    color: 'white',\r\n    textDecoration: 'none',\r\n  },\r\n  navWrapper: {\r\n    position: 'relative',\r\n    '&:hover div': {\r\n      display: 'block',\r\n    },\r\n    '& ul': {\r\n      listStyle: 'none',\r\n      '& li': {\r\n        fontSize: '11px',\r\n        cursor: 'pointer',\r\n        fontWeight: 'bold',\r\n        '& a': {\r\n          color: 'black',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  navContent: {\r\n    display: 'none',\r\n    position: 'absolute',\r\n    backgroundColor: 'aliceblue;',\r\n    top: '85%',\r\n    borderRadius: '4px',\r\n  },\r\n}))\r\n\r\nexport const NavItems: React.FC = () => {\r\n  const classes = useStyles()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <Typography variant=\"h6\" className={classes.title}>\r\n      <Button color=\"inherit\">\r\n        <NavLink className={classes.link} to=\"/\">\r\n          {t('home')}\r\n        </NavLink>\r\n      </Button>\r\n\r\n      <Button className={classes.navWrapper} color=\"inherit\">\r\n        <div className={classes.link}>{t('movies')}</div>\r\n        <div className={classes.navContent}>\r\n          <ul>\r\n            <MenuItem>\r\n              <Link to={'/movies/'}>{t('popular movies')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/movies/now-playing'}>{t('now-playing movies')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/movies/top-rated'}>{t('top-rated movies')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/movies/upcoming'}>{t('upcoming movies')}</Link>\r\n            </MenuItem>\r\n          </ul>\r\n        </div>\r\n      </Button>\r\n      <Button className={classes.navWrapper} color=\"inherit\">\r\n        <div className={classes.link}>{t('tv series')}</div>\r\n        <div className={classes.navContent}>\r\n          <ul>\r\n            <MenuItem>\r\n              <Link to={'/tv/'}>{t('popular tv')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/tv/airing-today'}>{t('airing-today tv')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/tv/top-rated'}>{t('top-rated tv')}</Link>\r\n            </MenuItem>\r\n            <MenuItem>\r\n              <Link to={'/tv/on-the-air'}>{t('on-the-air tv')}</Link>\r\n            </MenuItem>\r\n          </ul>\r\n        </div>\r\n      </Button>\r\n    </Typography>\r\n  )\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { searchApi } from '@src/api'\r\n\r\nimport { TSearchResult } from './types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof localActions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  searchResult: {} as TSearchResult | null,\r\n}\r\n\r\nexport const searchReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/search/SET_RESULT':\r\n      return { ...state, searchResult: action.payload.result }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst localActions = {\r\n  setResult: (result: TSearchResult | null) =>\r\n    ({\r\n      type: 'tmdb/search/SET_RESULT',\r\n      payload: { result },\r\n    } as const),\r\n}\r\n\r\nconst find = (\r\n  query: string,\r\n  page?: number,\r\n  inSearchInputMode?: boolean\r\n): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    if (!inSearchInputMode) dispatch(localActions.setResult(null))\r\n    dispatch(localActions.setResult(await searchApi.search(query, page)))\r\n  } catch (error) {\r\n    throw error.response\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  find,\r\n}\r\n","import { AppStateType } from '@src/store'\r\n\r\nexport const getSearchResult = (state: AppStateType) => state.search.searchResult\r\n","import { useSelector } from 'react-redux'\r\nimport { searchReducer, actions } from './reducer'\r\nimport { getSearchResult } from './selectors'\r\nimport { useActions } from '@src/hooks/useActions'\r\n\r\nexport { searchReducer }\r\n\r\nexport const search = {\r\n  useResult: () => useSelector(getSearchResult),\r\n  useActions: (): typeof actions => useActions(actions),\r\n}\r\n","import React from 'react'\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { TSearchResult, TMultiSearch } from '@src/store/modules/search/types'\r\nimport { ListItemIcon, Typography } from '@material-ui/core'\r\nimport TvIcon from '@material-ui/icons/Tv'\r\nimport MovieIcon from '@material-ui/icons/Movie'\r\nimport PersonIcon from '@material-ui/icons/Person'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: 0,\r\n      position: 'absolute',\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n      zIndex: theme.zIndex.drawer + 3,\r\n    },\r\n  })\r\n)\r\ntype T = {\r\n  isOpened: boolean\r\n  results: TSearchResult | null\r\n  onRedirect: () => void\r\n}\r\nexport const SearchResultsList: React.FC<T> = ({\r\n  isOpened,\r\n  results,\r\n  onRedirect,\r\n}) => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      {isOpened && (\r\n        <List className={classes.root}>\r\n          {results?.total_results ? (\r\n            results?.results?.map((media) => {\r\n              return (\r\n                <ListItem\r\n                  key={media.id}\r\n                  role={undefined}\r\n                  dense\r\n                  button\r\n                  onClick={() => {\r\n                    onRedirect()\r\n                    history.push(getUrl(media))\r\n                  }}\r\n                >\r\n                  <ListItemIcon>{getIcon(media)}</ListItemIcon>\r\n                  <ListItemText\r\n                    style={{ marginTop: 0 }}\r\n                    primary={`${getTitle(media)}`}\r\n                  />\r\n                  <ListItemSecondaryAction></ListItemSecondaryAction>\r\n                </ListItem>\r\n              )\r\n            })\r\n          ) : (\r\n            <Typography style={{ textAlign: 'center' }} variant=\"h5\">\r\n              {t('search panel no-results')}\r\n            </Typography>\r\n          )}\r\n        </List>\r\n      )}\r\n    </>\r\n  )\r\n}\r\nconst getTitle = (media: TMultiSearch) => {\r\n  switch (media.media_type) {\r\n    case 'movie':\r\n      return `${media.title} (Movie) ${\r\n        media.release_date ? new Date(media.release_date).getFullYear() : ''\r\n      }`\r\n    case 'tv':\r\n      return `${media.name} (TV) ${\r\n        media.first_air_date ? new Date(media.first_air_date).getFullYear() : ''\r\n      }`\r\n    default:\r\n      return 'N/A (Persona)'\r\n  }\r\n}\r\nconst getIcon = (media: TMultiSearch) => {\r\n  switch (media.media_type) {\r\n    case 'movie':\r\n      return <MovieIcon />\r\n    case 'tv':\r\n      return <TvIcon />\r\n    default:\r\n      return <PersonIcon />\r\n  }\r\n}\r\n\r\nconst getUrl = (media: TMultiSearch) => {\r\n  switch (media.media_type) {\r\n    case 'movie':\r\n      return '/movies/' + media.id\r\n    case 'tv':\r\n      return '/tv/' + media.id\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n","import React, { ReactEventHandler } from 'react'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport { NavLink, Link, useHistory } from 'react-router-dom'\r\nimport { FadeMenu } from './components/menu'\r\nimport { auth } from '@src/store/modules/auth'\r\nimport { account } from '@src/store/modules/account'\r\nimport { Backdrop, IconButton, InputBase } from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { NavItems } from './components/nav-items'\r\nimport { search } from '@src/store/modules/search'\r\nimport { SearchResultsList } from './components/search-results-list'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: '25px',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  link: {\r\n    color: 'white',\r\n    textDecoration: 'none',\r\n  },\r\n  cursorPointer: {\r\n    cursor: 'pointer',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n    zIndex: theme.zIndex.drawer + 2,\r\n  },\r\n  searchForm: {\r\n    transition: 'width 0.2s',\r\n    width: 0,\r\n    backgroundColor: 'white',\r\n    color: 'black',\r\n    '&.focused': {\r\n      width: '40%',\r\n    },\r\n    '& > div': {\r\n      width: '100%',\r\n    },\r\n  },\r\n}))\r\n\r\nexport const Header: React.ComponentType = () => {\r\n  const classes = useStyles()\r\n  const isAuth = auth.useStatus()\r\n  const profile = account.useProfileDetails()\r\n  const history = useHistory()\r\n\r\n  const searchInput = React.useRef<HTMLElement>(null)\r\n\r\n  const [open, setOpen] = React.useState(false)\r\n  const [searchValue, setSearchValue] = React.useState('')\r\n\r\n  const handleToolBarClick = (event: any) => {\r\n    if (event.target.dataset.target !== 'search') closeSearchInput()\r\n  }\r\n\r\n  const { find } = search.useActions()\r\n  const searchResult = search.useResult()\r\n  const [didResultFind, setFindStatus] = React.useState(false)\r\n\r\n  let timeout = React.useRef(0)\r\n  const handleChange = (event: any) => {\r\n    const value = event.target.value\r\n    if (timeout) clearTimeout(timeout.current)\r\n    setSearchValue(value)\r\n    timeout.current = window.setTimeout(() => {\r\n      //@ts-ignore\r\n      if (value) find(value, 1, true).then(() => setFindStatus(true))\r\n    }, 300)\r\n  }\r\n\r\n  const onSubmit = (event: any) => {\r\n    event.preventDefault()\r\n    if (open) {\r\n      if (!searchValue) return\r\n      history.push(`/search?query=${searchValue}`)\r\n      closeSearchInput()\r\n    } else {\r\n      setOpen(true)\r\n      searchInput.current?.focus()\r\n    }\r\n  }\r\n  const closeSearchInput = () => {\r\n    setOpen(false)\r\n    setFindStatus(false)\r\n    setSearchValue('')\r\n  }\r\n\r\n  const [t] = useTranslation()\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop\r\n        className={`${classes.backdrop} ${classes.cursorPointer}`}\r\n        open={open}\r\n        onClick={closeSearchInput}\r\n      ></Backdrop>\r\n      <AppBar className={classes.appBar} position=\"static\">\r\n        <Toolbar onClick={handleToolBarClick}>\r\n          <NavItems />\r\n          <form\r\n            onSubmit={onSubmit}\r\n            className={`${classes.searchForm} ${open ? 'focused' : ''}`}\r\n            data-target=\"search\"\r\n          >\r\n            <InputBase\r\n              value={searchValue}\r\n              onChange={handleChange}\r\n              inputRef={searchInput}\r\n              placeholder=\"Type to search\"\r\n              inputProps={{ 'aria-label': 'search', 'data-target': 'search' }}\r\n            />\r\n          </form>\r\n          <IconButton data-target=\"search\" onClick={onSubmit}>\r\n            <SearchIcon\r\n              data-target=\"search\"\r\n              className={classes.cursorPointer}\r\n              style={{ color: 'white' }}\r\n            ></SearchIcon>\r\n          </IconButton>\r\n\r\n          {isAuth ? (\r\n            <FadeMenu\r\n              avatarLink={`https://www.gravatar.com/avatar/${profile?.avatar?.gravatar?.hash}`}\r\n            />\r\n          ) : (\r\n            <React.Fragment>\r\n              <Button color=\"inherit\">\r\n                <Link className={classes.link} to=\"/login\">\r\n                  {t('sign in')}\r\n                </Link>\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SearchResultsList\r\n        isOpened={didResultFind}\r\n        results={searchResult}\r\n        onRedirect={() => {\r\n          closeSearchInput()\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Link from '@material-ui/core/Link'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { Field, Form } from 'react-final-form'\r\nimport { auth } from '@src/store/modules/auth'\r\nimport { account } from '@src/store/modules/account'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    margin: '0 auto',\r\n    maxWidth: '760px',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\ntype TFormValues = {\r\n  username: string\r\n  password: string\r\n}\r\n\r\nexport const Auth: React.FC = () => {\r\n  const history = useHistory()\r\n\r\n  const { signIn, signUp } = auth.useActions()\r\n  const { getProfile } = account.useActions()\r\n\r\n  const onFormSubmit = async ({ password, username }: TFormValues) => {\r\n    try {\r\n      await signIn(username, password)\r\n      history.push('/')\r\n      await getProfile()\r\n    } catch {\r\n      history.push('/login')\r\n    }\r\n  }\r\n\r\n  const onSignUpClick = async (event: any) => {\r\n    event.preventDefault()\r\n    try {\r\n      await signUp()\r\n      history.push('/')\r\n    } catch {}\r\n  }\r\n\r\n  const isFormFieldValid = (info: any) => info.error && info.touched\r\n\r\n  const classes = useStyles()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {t('sign in')}\r\n        </Typography>\r\n        <Form\r\n          onSubmit={onFormSubmit}\r\n          validate={(values: any) => {\r\n            const errors: any = {}\r\n\r\n            if (!values.username) {\r\n              errors.username = t('required')\r\n            }\r\n            if (!values.password) {\r\n              errors.password = t('required')\r\n            }\r\n            return errors\r\n          }}\r\n          render={({ handleSubmit, form, submitting, pristine, values }) => (\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <Field name=\"username\">\r\n                {({ input, meta }) => {\r\n                  return (\r\n                    <TextField\r\n                      {...input}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label={t('email label')}\r\n                      autoComplete=\"email\"\r\n                      autoFocus\r\n                      error={isFormFieldValid(meta)}\r\n                      helperText={isFormFieldValid(meta) && meta.error}\r\n                    />\r\n                  )\r\n                }}\r\n              </Field>\r\n              <Field name=\"password\">\r\n                {({ input, meta }) => (\r\n                  <TextField\r\n                    {...input}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    label={t('pass label')}\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    error={isFormFieldValid(meta)}\r\n                    helperText={isFormFieldValid(meta) && meta.error}\r\n                  />\r\n                )}\r\n              </Field>\r\n              <Button\r\n                disabled={pristine || submitting}\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                {t('sign in')}\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item>\r\n                  <Link\r\n                    component=\"button\"\r\n                    onClick={onSignUpClick}\r\n                    variant=\"body2\"\r\n                  >\r\n                    {t('form question')}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          )}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TMovieDetails } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TMovieDetails,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const currentMovieReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/currentMovie/SET_DETAILS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/currentMovie/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/currentMovie/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TMovieDetails) =>\r\n    ({\r\n      type: 'tmdb/movies/currentMovie/SET_DETAILS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/currentMovie/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/currentMovie/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getMovieDetails = (movie_id: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    const appendToResponse = 'videos,external_ids'\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(await moviesApi.getDetails(movie_id, appendToResponse))\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TRecommendations } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TRecommendations,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const recommendationsReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/recommendations/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/recommendations/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/recommendations/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TRecommendations) =>\r\n    ({\r\n      type: 'tmdb/movies/recommendations/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/recommendations/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/recommendations/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getRecommendations = (\r\n  movie_id: number,\r\n  page?: number\r\n): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(await moviesApi.getRecommendations(movie_id, page))\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TSimilarMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TSimilarMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const similarReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/similar/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/similar/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/similar/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TSimilarMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/similar/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/similar/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/similar/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getSimilarMovies = (\r\n  movie_id: number,\r\n  page?: number\r\n): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getSimilar(movie_id, page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TDiscoverMovie, TDiscoveredMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TDiscoveredMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const discoveredReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/discovered/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/discovered/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/discovered/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TDiscoveredMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/discovered/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/discovered/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/discovered/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getDiscoveredMovies = (args: TDiscoverMovie): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getDiscovered(args)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TNowPlayingMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TNowPlayingMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const nowPlayingReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/now=playing/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/now=playing/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/now=playing/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TNowPlayingMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/now=playing/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/now=playing/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/now=playing/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getNowPlayingMovies = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getNowPlaying(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TPopularMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TPopularMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const popularReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/popular/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/popular/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/popular/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TPopularMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/popular/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/popular/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/popular/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getPopularMovies = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getPopular(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TTopRatedMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TTopRatedMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const topRatedReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/top_rated/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/top_rated/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/top_rated/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TTopRatedMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/top_rated/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/top_rated/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/top_rated/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getTopRatedMovies = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getTopRated(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi } from '@src/api'\r\n\r\nimport { TUpcomingMovies } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TUpcomingMovies,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const upcomingReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/upcoming/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/upcoming/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/upcoming/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TUpcomingMovies) =>\r\n    ({\r\n      type: 'tmdb/movies/upcoming/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/upcoming/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/upcoming/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getUpcomingMovies = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await moviesApi.getUpcoming(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi, accountApi } from '@src/api'\r\n\r\nimport { TResult } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TResult,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const watchlistReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/watchlist/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/watchlist/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/watchlist/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TResult) =>\r\n    ({\r\n      type: 'tmdb/movies/watchlist/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/watchlist/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/watchlist/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getWatchList = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(\r\n        await accountApi.getMovieWatchList(\r\n          getState().account.profileData!.id,\r\n          page\r\n        )\r\n      )\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi, accountApi } from '@src/api'\r\n\r\nimport { TResult } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TResult,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const favoritelistReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/movies/favoritelist/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/movies/favoritelist/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/movies/favoritelist/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TResult) =>\r\n    ({\r\n      type: 'tmdb/movies/favoritelist/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/movies/favoritelist/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/movies/favoritelist/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getFavoriteList = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(\r\n        await accountApi.getMovieFavoriteList(\r\n          getState().account.profileData!.id,\r\n          page\r\n        )\r\n      )\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { currentMovieReducer, getMovieDetails } from './currentMovie'\r\nimport { recommendationsReducer, getRecommendations } from './recommendations'\r\nimport { similarReducer, getSimilarMovies } from './similar'\r\nimport { discoveredReducer, getDiscoveredMovies } from './discovered'\r\nimport { nowPlayingReducer, getNowPlayingMovies } from './nowPlaying'\r\nimport { popularReducer, getPopularMovies } from './popular'\r\nimport { topRatedReducer, getTopRatedMovies } from './topRated'\r\nimport { upcomingReducer, getUpcomingMovies } from './upcoming'\r\nimport { watchlistReducer, getWatchList } from './watchlist'\r\nimport { favoritelistReducer, getFavoriteList } from './favoritelist'\r\n\r\nexport const moviesReducer = combineReducers({\r\n  currentMovie: currentMovieReducer,\r\n  recommendations: recommendationsReducer,\r\n  similar: similarReducer,\r\n  popular: popularReducer,\r\n  nowPlaying: nowPlayingReducer,\r\n  upcoming: upcomingReducer,\r\n  topRated: topRatedReducer,\r\n  discovered: discoveredReducer,\r\n  watchlist: watchlistReducer,\r\n  favoritelist: favoritelistReducer,\r\n})\r\n\r\nexport const actions = {\r\n  getMovieDetails,\r\n  getRecommendations,\r\n  getSimilarMovies,\r\n  getDiscoveredMovies,\r\n  getNowPlayingMovies,\r\n  getPopularMovies,\r\n  getTopRatedMovies,\r\n  getUpcomingMovies,\r\n  getWatchList,\r\n  getFavoriteList,\r\n}\r\n","import { AppStateType } from '@src/store'\r\n\r\nexport const getDetails = (state: AppStateType) => state.movies.currentMovie\r\nexport const getSimilar = (state: AppStateType) => state.movies.similar\r\nexport const getRecommendations = (state: AppStateType) =>\r\n  state.movies.recommendations\r\n\r\nexport const getPopular = (state: AppStateType) => state.movies.popular\r\nexport const getNowPlaying = (state: AppStateType) => state.movies.nowPlaying\r\nexport const getTopRated = (state: AppStateType) => state.movies.topRated\r\nexport const getUpcoming = (state: AppStateType) => state.movies.upcoming\r\nexport const getDiscovered = (state: AppStateType) => state.movies.discovered\r\nexport const getWatchList = (state: AppStateType) => state.movies.watchlist\r\nexport const getFavoriteList = (state: AppStateType) =>\r\n  state.movies.favoritelist\r\n","import { useSelector } from 'react-redux'\r\n\r\nimport { actions, moviesReducer } from './reducers'\r\nimport { useActions } from '@src/hooks/useActions'\r\nimport {\r\n  getDetails,\r\n  getNowPlaying,\r\n  getPopular,\r\n  getRecommendations,\r\n  getSimilar,\r\n  getTopRated,\r\n  getUpcoming,\r\n  getDiscovered,\r\n  getWatchList,\r\n  getFavoriteList,\r\n} from './selectors'\r\n\r\nexport { moviesReducer }\r\n\r\nexport const movies = {\r\n  currentMovie: {\r\n    useDetails: () => useSelector(getDetails),\r\n  },\r\n  usePopular: () => useSelector(getPopular),\r\n  useNowPlaying: () => useSelector(getNowPlaying),\r\n  useTopRated: () => useSelector(getTopRated),\r\n  useUpcoming: () => useSelector(getUpcoming),\r\n  useDiscovered: () => useSelector(getDiscovered),\r\n  useSimilar: () => useSelector(getSimilar),\r\n  useRecommendations: () => useSelector(getRecommendations),\r\n  useWatchList: () => useSelector(getWatchList),\r\n  useFavoriteList: () => useSelector(getFavoriteList),\r\n  useActions: (): typeof actions => useActions(actions),\r\n}\r\n","import React from 'react'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport { useMenu } from '@src/hooks/useMenu'\r\nimport { Menu, MenuItem } from '@material-ui/core'\r\nimport { account } from '@src/store/modules/account'\r\nimport { TAccountStates } from '@src/store/modules/account/types'\r\nimport { tvApi, moviesApi } from '@src/api'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\ntype T = {\r\n  type: 'movie' | 'tv'\r\n  id: number\r\n}\r\nexport const UMenu: React.FC<T> = ({ type, id }) => {\r\n  const [anchorEl, open, close] = useMenu()\r\n  const [state, setState] = React.useState<TAccountStates>()\r\n\r\n  const handleMenuClick = (e: React.MouseEvent<HTMLElement>) => {\r\n    e.preventDefault()\r\n    open(e)\r\n  }\r\n\r\n  const { addToFavoriteList, addToWatchList } = account.useActions()\r\n\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    if (type === 'movie')\r\n      moviesApi.getAccountStates(id).then((res) => setState(res as any))\r\n    else tvApi.getAccountStates(id).then((res) => setState(res as any))\r\n  }, [i18n.language])\r\n  const params = { media_id: id, media_type: type }\r\n\r\n  const onWatchListClick = async () => {\r\n    if (!state) return\r\n    if (state?.watchlist) {\r\n      await addToWatchList({ ...params, watchlist: false })\r\n    } else await addToWatchList({ ...params, watchlist: true })\r\n\r\n    await setState({ ...state, watchlist: !state?.watchlist })\r\n    close()\r\n  }\r\n  const onFavoriteListClick = async () => {\r\n    if (!state) return\r\n    if (state?.favorite) {\r\n      await addToFavoriteList({ ...params, favorite: false })\r\n    } else await addToFavoriteList({ ...params, favorite: true })\r\n    await setState({ ...state, favorite: !state?.favorite })\r\n    close()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{ position: 'absolute', bottom: '2%', right: '5%' }}\r\n        onClick={handleMenuClick}\r\n      >\r\n        <MoreVertIcon />\r\n      </div>\r\n      <Menu\r\n        id=\"m-card-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={close}\r\n      >\r\n        <MenuItem onClick={onWatchListClick}>\r\n          {state?.watchlist\r\n            ? t('remove from watchlist')\r\n            : t('add to watchlist')}\r\n        </MenuItem>\r\n        <MenuItem onClick={onFavoriteListClick}>\r\n          {state?.favorite\r\n            ? t('remove from favoritelist')\r\n            : t('add to favoritelist')}\r\n        </MenuItem>\r\n      </Menu>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActionArea from '@material-ui/core/CardActionArea'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { UMenu } from './UMenu'\r\nimport { auth } from '@src/store/modules/auth'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  cardAction: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    justifyContent: 'space-between',\r\n  },\r\n  grid: {\r\n    flexShrink: 0,\r\n    position: 'relative',\r\n  },\r\n})\r\nexport const CardItem: React.FC<any> = ({ children, onClick, type, id }) => {\r\n  const classes = useStyles()\r\n  const isAuth = auth.useStatus()\r\n  return (\r\n    <Grid className={classes.grid} item xs={6} sm={4} md={3} lg={2}>\r\n      <Paper onClick={onClick} className={classes.root}>\r\n        <Card className={classes.root}>\r\n          <CardActionArea className={classes.cardAction}>\r\n            {children}\r\n          </CardActionArea>\r\n        </Card>\r\n      </Paper>\r\n      {isAuth && (type === 'movie' || type === 'tv') && (\r\n        <UMenu type={type} id={id} />\r\n      )}\r\n    </Grid>\r\n  )\r\n}\r\n// (type === 'movie' || type === 'tv')\r\n","import React from 'react'\r\nimport { getImageLink } from '@src/api'\r\nimport { TMovie } from '@src/store/modules/movies/types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { CardItem } from './CardItem'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\ntype TCard = {\r\n  card: TMovie\r\n  isLoading: boolean\r\n}\r\nconst useStyles = makeStyles({\r\n  media: {\r\n    maxWidth: '100%!important',\r\n    width: '100%',\r\n    display: 'block',\r\n  },\r\n  cardContent: {\r\n    alignSelf: 'end',\r\n    boxSizing: 'border-box',\r\n    width: '100%',\r\n  },\r\n  skeletonMedia: {\r\n    height: '400px',\r\n    maxWidth: '100%!important',\r\n    width: '100%',\r\n    display: 'block',\r\n  },\r\n})\r\n\r\nexport const MovieCard: React.FC<TCard> = ({ card, isLoading }) => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n\r\n  const handleClick = React.useCallback(() => {\r\n    if (card.id) history.push('/movies/' + card.id.toString())\r\n  }, [card])\r\n\r\n  return (\r\n    <CardItem type=\"movie\" id={card?.id} onClick={handleClick}>\r\n      {!isLoading ? (\r\n        <img\r\n          className={classes.media}\r\n          src={getImageLink(card?.poster_path)}\r\n          alt=\"poster\"\r\n        />\r\n      ) : (\r\n        <Skeleton\r\n          animation=\"wave\"\r\n          variant=\"rect\"\r\n          className={classes.skeletonMedia}\r\n        >\r\n          <img className={classes.media} alt=\"skeleton\" />\r\n        </Skeleton>\r\n      )}\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography gutterBottom variant=\"body2\" component=\"h2\">\r\n          {!isLoading ? (\r\n            card.title\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"textSecondary\">\r\n          {!isLoading ? (\r\n            `${\r\n              card.release_date\r\n                ? new Date(card.release_date).toLocaleDateString()\r\n                : 'N/A'\r\n            }, Movie`\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n        </Typography>\r\n      </CardContent>\r\n    </CardItem>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { CardItem } from './CardItem'\r\nimport { MovieCard } from './MovieCard'\r\n\r\ntype TCards = {\r\n  style?: object\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    marginTop: '15px',\r\n    marginBottom: '15px',\r\n  },\r\n})\r\nexport const CardsList: React.FC<TCards> = ({ children, style }) => {\r\n  const styles = useStyles()\r\n  return (\r\n    <Grid\r\n      style={style}\r\n      alignItems=\"stretch\"\r\n      className={styles.container}\r\n      container\r\n      spacing={2}\r\n    >\r\n      {children\r\n        ? children\r\n        : Array(20)\r\n            .fill(0)\r\n            .map((el, idx) => (\r\n              <MovieCard isLoading={true} key={idx} card={null as any} />\r\n            ))}\r\n    </Grid>\r\n  )\r\n}\r\n","export const parseQueryString = (str) =>\r\n  str\r\n    .substring(1)\r\n    .split('&')\r\n    .reduce((acc, el) => {\r\n      const [key, value] = el.split('=')\r\n      return { ...acc, [key]: decodeURIComponent(value) }\r\n    }, {})\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom'\r\nimport { parseQueryString } from '@src/lib/parse_query_string'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport {\r\n  TPopularMovies,\r\n  TUpcomingMovies,\r\n  TNowPlayingMovies,\r\n  TTopRatedMovies,\r\n  TRecommendations,\r\n  TSimilarMovies,\r\n} from '@src/store/modules/movies/types'\r\nimport { TResponseError } from '@src/api/types'\r\nimport { useTranslation } from 'react-i18next'\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n})\r\ntype T = {\r\n  content: {\r\n    data:\r\n      | TUpcomingMovies\r\n      | TPopularMovies\r\n      | TNowPlayingMovies\r\n      | TTopRatedMovies\r\n      | TRecommendations\r\n      | TSimilarMovies\r\n      | null\r\n    isLoading: boolean\r\n    error: TResponseError | null\r\n  }\r\n\r\n  getter: (...args: any[]) => any\r\n  withURLParam?: boolean\r\n}\r\nexport const Page: React.FC<T> = ({ content, getter, withURLParam }) => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const params = useLocation()\r\n  let pageNumber = parseQueryString(params.search).page || 1\r\n\r\n  const [page, setPage] = React.useState(parseInt(pageNumber))\r\n\r\n  const switchPage = (page: number) => {\r\n    setPage(page)\r\n    history.push(`?page=${page}`)\r\n  }\r\n\r\n  const matchedParams = useRouteMatch().params as any\r\n  const movieID = parseInt(matchedParams.id || '0')\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    if (!withURLParam) getter(page)\r\n    else getter(movieID, page)\r\n  }, [page, getter, movieID, i18n.language])\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    switchPage(value)\r\n  }\r\n  return (\r\n    <>\r\n      <CardsList>\r\n        {content.data?.results?.map((el) => (\r\n          <MovieCard isLoading={content.isLoading} key={el.id} card={el} />\r\n        ))}\r\n      </CardsList>\r\n      <Pagination\r\n        className={classes.pagination}\r\n        count={content.data?.total_pages}\r\n        page={page}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { useToggle } from '@src/hooks/useToggle'\r\n\r\nconst useStyles = makeStyles({\r\n  expandBtn: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    backgroundColor: 'rgba(255,255,255,0.8)',\r\n    position: 'relative',\r\n    top: '-1.5em',\r\n    cursor: 'pointer',\r\n  },\r\n  expanded: {\r\n    top: 0,\r\n  },\r\n})\r\nexport const Expand: React.FC = ({ children }) => {\r\n  const [isExpanded, toggle] = useToggle()\r\n  const classes = useStyles()\r\n  return (\r\n    <>\r\n      {isExpanded && children}\r\n      <div\r\n        onClick={() => toggle()}\r\n        className={`${classes.expandBtn} ${isExpanded && classes.expanded}`}\r\n      >\r\n        {isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useCallback } from 'react'\r\n\r\nexport const useToggle = () => {\r\n  const [isOpen, setIsOpen] = React.useState(false)\r\n  const toggle = useCallback(() => setIsOpen((v) => !v), [])\r\n\r\n  return [isOpen, toggle] as const\r\n}\r\n","import React, { Children } from 'react'\r\nimport { CardsList } from '../CardsList'\r\nimport { makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  slider: {\r\n    overflowX: 'auto',\r\n    marginBottom: '15px',\r\n    minWidth: '100%',\r\n  },\r\n})\r\n\r\nexport const CardSlider: React.FC = ({ children }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.slider}>\r\n      <CardsList style={{ flexWrap: 'nowrap' }}>{children}</CardsList>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useRouteMatch, Link, useHistory } from 'react-router-dom'\r\nimport { movies } from '@src/store/modules/movies'\r\n\r\nimport { Typography, Grid, Box } from '@material-ui/core'\r\nimport { getImageLink } from '@src/api'\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nimport { Expand } from '@src/components/Expand'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport { CardSlider } from '@src/components/CardSlider'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n  header: {\r\n    backgroundPosition: 'right 0 top',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    height: '500px',\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n    alignItems: 'end',\r\n  },\r\n  containerImage: {\r\n    textAlign: 'center',\r\n  },\r\n  containerExternalLinks: {\r\n    display: 'flex',\r\n    '& svg': {\r\n      fontSize: '2.25rem',\r\n    },\r\n  },\r\n  image: {\r\n    width: '80%',\r\n  },\r\n  imageSkeleton: {\r\n    height: '100%',\r\n    width: '70%',\r\n  },\r\n  slider: {\r\n    overflowX: 'auto',\r\n    marginBottom: '15px',\r\n    minWidth: '100%',\r\n  },\r\n  details: {\r\n    color: 'white',\r\n    display: 'flex',\r\n  },\r\n  zidx: {\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  grid: {\r\n    flexShrink: 0,\r\n  },\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  genresLink: {\r\n    padding: '2px',\r\n    '&:hover': {\r\n      backgroundColor: 'primary',\r\n    },\r\n  },\r\n  videoWrapper: {\r\n    position: 'relative',\r\n    paddingTop: ' 56.25%', //16:9\r\n    height: 0,\r\n    '& iframe': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n    },\r\n  },\r\n})\r\nexport const ByID: React.FC = () => {\r\n  const DESCRIPTION_BREAKPOINT = 25\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const { useDetails } = movies.currentMovie\r\n  const { useRecommendations, useSimilar } = movies\r\n  const details = useDetails()\r\n  const videos = details.data?.videos\r\n\r\n  const detailsOverview = details.data?.overview?.split(' ') || []\r\n\r\n  const recommendations = useRecommendations()\r\n  const similar = useSimilar()\r\n\r\n  const matchedParams = useRouteMatch().params as { id: string }\r\n\r\n  let movieID = parseInt(matchedParams.id || '1')\r\n\r\n  const {\r\n    getMovieDetails,\r\n    getRecommendations,\r\n    getSimilarMovies,\r\n  } = movies.useActions()\r\n\r\n  const [t, i18n] = useTranslation()\r\n  \r\n  React.useEffect(() => {\r\n    getMovieDetails(movieID)\r\n    getRecommendations(movieID, 1)\r\n    getSimilarMovies(movieID, 1)\r\n  }, [movieID, i18n.language])\r\n  if (details.error?.status === 404) history.push('/404')\r\n  return (\r\n    <>\r\n      <Grid alignItems=\"stretch\" container spacing={2}>\r\n        <Grid className={classes.zidx} item xs={12} sm={3}>\r\n          {!details.isLoading ? (\r\n            <div className={classes.container}>\r\n              <div className={classes.containerImage}>\r\n                <img\r\n                  className={classes.image}\r\n                  src={getImageLink(details.data?.poster_path)}\r\n                  alt=\"poster\"\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={classes.container}>\r\n              <Skeleton\r\n                className={classes.imageSkeleton}\r\n                animation=\"wave\"\r\n                variant=\"rect\"\r\n              ></Skeleton>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        <Grid className={classes.zidx} item xs={12} sm={9}>\r\n          <Typography variant=\"h4\" component=\"h4\">\r\n            {!details.isLoading ? (\r\n              `${details.data?.title}(${\r\n                details?.data?.release_date\r\n                  ? new Date(details?.data?.release_date).getFullYear()\r\n                  : 'N/A'\r\n              })`\r\n            ) : (\r\n              <Skeleton animation=\"wave\" variant=\"text\" />\r\n            )}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"h4\">\r\n            {!details.isLoading ? (\r\n              `${details.data?.original_title}`\r\n            ) : (\r\n              <Skeleton animation=\"wave\" variant=\"text\" />\r\n            )}\r\n          </Typography>\r\n          {!details.isLoading ? (\r\n            <Grid\r\n              style={{ display: 'flex', alignItems: 'center' }}\r\n              item\r\n              xs={12}\r\n            >\r\n              <Rating\r\n                max={10}\r\n                size=\"medium\"\r\n                name=\"read-only\"\r\n                value={details?.data?.vote_average}\r\n                readOnly\r\n              />\r\n              <Box>{details?.data?.vote_average}</Box>\r\n            </Grid>\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n          <Grid container>\r\n            <Grid style={{ marginTop: '15px' }} item xs={12}>\r\n              <Typography\r\n                style={{ marginBottom: '10px' }}\r\n                variant=\"h5\"\r\n                component=\"h5\"\r\n              >\r\n                {t('details info').toUpperCase()}\r\n              </Typography>\r\n              {!details.isLoading ? (\r\n                <>\r\n                  {details.data?.status && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details status')}:{details.data?.status}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.release_date && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details release date')}:{' '}\r\n                      {new Date(\r\n                        details?.data?.release_date\r\n                      ).toLocaleDateString()}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.runtime && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details duration')}:\r\n                      {` ${Math.trunc(details.data?.runtime / 60)} ${t(\r\n                        'details hours'\r\n                      )} ${details.data?.runtime % 60} ${t('details minutes')}`}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.tagline && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details tag')}: {' ' + details.data?.tagline}\r\n                    </Typography>\r\n                  )}\r\n                  {Number.isInteger(details.data!.budget) && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details budget')}: {details.data?.budget + '$'}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.genres?.length ? (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details genres')}:\r\n                      {details.data?.genres.map((el, idx) => (\r\n                        <Link\r\n                          className={classes.genresLink}\r\n                          key={el.id}\r\n                          to={'genres/' + el.id}\r\n                        >\r\n                          {el.name + ' '}\r\n                        </Link>\r\n                      ))}\r\n                    </Typography>\r\n                  ) : null}\r\n                </>\r\n              ) : (\r\n                <Skeleton\r\n                  style={{ height: '150px' }}\r\n                  animation=\"wave\"\r\n                  variant=\"rect\"\r\n                />\r\n              )}\r\n\r\n              <Typography variant=\"body1\" component=\"h6\"></Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid style={{ marginTop: '15px' }} item xs={12}>\r\n            {!details.isLoading ? (\r\n              <>\r\n                <Typography\r\n                  style={{ marginBottom: '10px' }}\r\n                  variant=\"h5\"\r\n                  component=\"h5\"\r\n                >\r\n                  {t('details description').toUpperCase()}\r\n                </Typography>\r\n                {details.data?.overview && (\r\n                  <div>\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {detailsOverview\r\n                        ?.slice(0, DESCRIPTION_BREAKPOINT)\r\n                        .join(' ')}\r\n                    </Typography>\r\n                    {detailsOverview?.length - DESCRIPTION_BREAKPOINT > 0 && (\r\n                      <Expand>\r\n                        <Typography variant=\"body1\" component=\"h6\">\r\n                          {detailsOverview\r\n                            ?.slice(DESCRIPTION_BREAKPOINT)\r\n                            .join(' ')}\r\n                        </Typography>\r\n                      </Expand>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <Skeleton\r\n                style={{ height: '50px' }}\r\n                animation=\"wave\"\r\n                variant=\"rect\"\r\n              />\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n        {!details.isLoading ? (\r\n          <>\r\n            {videos?.results.length > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('details video').toUpperCase()}\r\n                </Typography>\r\n                <Grid\r\n                  container\r\n                  className={classes.slider}\r\n                  style={{ flexWrap: 'nowrap', overflowY: 'hidden' }}\r\n                >\r\n                  {videos?.results?.map((el) => (\r\n                    <Grid\r\n                      style={{ flexShrink: 0 }}\r\n                      xs={12}\r\n                      sm={4}\r\n                      md={3}\r\n                      lg={3}\r\n                      key={el.key}\r\n                    >\r\n                      <div className={classes.videoWrapper}>\r\n                        <iframe\r\n                          frameBorder=\"0\"\r\n                          allowFullScreen\r\n                          src={`https://www.youtube.com/embed/${el.key}`}\r\n                          title={el.name}\r\n                        ></iframe>\r\n                      </div>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n        {!recommendations.isLoading ? (\r\n          <>\r\n            {recommendations.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('details recommend')}{' '}\r\n                  <Link to={'recommendations/' + details.data?.id}>\r\n                    {t('details show all')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {recommendations.data?.results?.map((el) => (\r\n                    <MovieCard\r\n                      isLoading={recommendations.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n\r\n        {!similar.isLoading ? (\r\n          <>\r\n            {similar.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  Схожие фильмы{' '}\r\n                  <Link to={'similar/' + details.data?.id}>\r\n                    {t('details show all')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {similar.data.results?.map((el) => (\r\n                    <MovieCard\r\n                      isLoading={similar.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { parseQueryString } from '@src/lib/parse_query_string'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport { useTranslation } from 'react-i18next'\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n})\r\nexport const ByGenre: React.FC = () => {\r\n  const classes = useStyles()\r\n  const movi = movies.useDiscovered()\r\n  const history = useHistory()\r\n  const params = useLocation()\r\n  let pageNumber = parseQueryString(params.search).page || 1\r\n\r\n  const [page, setPage] = React.useState(parseInt(pageNumber))\r\n\r\n  const matchedParams = useRouteMatch().params as { genre: string }\r\n  const genre_id = matchedParams.genre\r\n  const { getDiscoveredMovies } = movies.useActions()\r\n\r\n  const switchPage = (page: number) => {\r\n    setPage(page)\r\n    history.push(`?page=${page}`)\r\n  }\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    getDiscoveredMovies({ with_genres: genre_id, page })\r\n  }, [page, genre_id, i18n.language])\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    switchPage(value)\r\n  }\r\n  return (\r\n    <>\r\n      <CardsList>\r\n        {movi.data?.results?.map((el) => (\r\n          <MovieCard isLoading={movi.isLoading} key={el.id} card={el} />\r\n        ))}\r\n      </CardsList>\r\n      <Pagination\r\n        className={classes.pagination}\r\n        count={movi?.data?.total_pages}\r\n        page={page}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import { Popular } from './popular'\r\nimport { NowPlaying } from './now-playing'\r\nimport { ByID } from './by-id'\r\nimport { Recommendations } from './recommendations'\r\nimport { Similar } from './similar'\r\nimport { TopRated } from './top-rated'\r\nimport { Upcoming } from './upcoming'\r\nimport { ByGenre } from './by-genre'\r\n\r\nexport const movies = {\r\n  Popular,\r\n  NowPlaying,\r\n  ByID,\r\n  Recommendations,\r\n  Similar,\r\n  TopRated,\r\n  Upcoming,\r\n  ByGenre,\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\nimport { Typography } from '@material-ui/core'\r\nimport { FilterPanel } from '@src/components/FilterPanel'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const Popular: React.FC = () => {\r\n  const { getPopularMovies } = movies.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('popular movies') + ' ' + t('movies')}\r\n      </Typography>\r\n      <Page content={movies.usePopular()} getter={getPopularMovies} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const NowPlaying: React.FC = () => {\r\n  const { getNowPlayingMovies } = movies.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('now-playing movies') + ' ' + t('movies')}\r\n      </Typography>\r\n      <Page content={movies.useNowPlaying()} getter={getNowPlayingMovies} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\n\r\nexport const Recommendations: React.FC = () => {\r\n  const { getRecommendations } = movies.useActions()\r\n  return (\r\n    <Page\r\n      content={movies.useRecommendations()}\r\n      getter={getRecommendations}\r\n      withURLParam\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\n\r\nexport const Similar: React.FC = () => {\r\n  const { getSimilarMovies } = movies.useActions()\r\n  return (\r\n    <Page\r\n      content={movies.useSimilar()}\r\n      getter={getSimilarMovies}\r\n      withURLParam\r\n    />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const TopRated: React.FC = () => {\r\n  const { getTopRatedMovies } = movies.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('top-rated movies') + ' ' + t('movies')}\r\n      </Typography>\r\n      <Page content={movies.useTopRated()} getter={getTopRatedMovies} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../_base/baseMovies'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const Upcoming: React.FC = () => {\r\n  const { getUpcomingMovies } = movies.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n      {t('upcoming movies') + ' ' + t('movies')}\r\n      </Typography>\r\n      <Page content={movies.useUpcoming()} getter={getUpcomingMovies} />\r\n    </>\r\n  )\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TTVDetails } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TTVDetails,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const currentTVReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/currentTV/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/currentTV/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/currentTV/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TTVDetails) =>\r\n    ({\r\n      type: 'tmdb/tv/currentTV/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/currentTV/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/currentTV/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getTVDetails = (tv_id: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    const appendToResponse = 'videos,external_ids'\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getDetails(tv_id, appendToResponse)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TRecommendations } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TRecommendations,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const recommendationsReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/recommendations/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/recommendations/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/recommendations/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TRecommendations) =>\r\n    ({\r\n      type: 'tmdb/tv/recommendations/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/recommendations/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/recommendations/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getRecommendations = (\r\n  tv_id: number,\r\n  page?: number\r\n): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getRecommendations(tv_id, page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TSimilarTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TSimilarTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const similarReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/similar/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/similar/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/similar/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TSimilarTV) =>\r\n    ({\r\n      type: 'tmdb/tv/similar/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/similar/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/similar/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getSimilarTV = (\r\n  tv_id: number,\r\n  page?: number\r\n): ThunkType => async (dispatch: Dispatch<ActionsTypes>) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getSimilar(tv_id, page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TPopularTV, TDiscoverTV, TDiscoveredTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TDiscoveredTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const discoveredReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/discovered/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/discovered/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/discovered/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TDiscoveredTV) =>\r\n    ({\r\n      type: 'tmdb/tv/discovered/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/discovered/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/discovered/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getDiscoveredTV = (args: TDiscoverTV): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getDiscovered(args)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TAiringTodayTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TAiringTodayTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const airingTodayReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/airing_today/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/airing_today/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/airing_today/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TAiringTodayTV) =>\r\n    ({\r\n      type: 'tmdb/tv/airing_today/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/airing_today/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/airing_today/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getAiringTodayTV = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getAiringToday(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TPopularTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TPopularTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const popularReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/popular/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/popular/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/popular/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TPopularTV) =>\r\n    ({\r\n      type: 'tmdb/tv/popular/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/popular/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/popular/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getPopularTV = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getPopular(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TTopRatedTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TTopRatedTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const topRatedReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/top_rated/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/top_rated/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/top_rated/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TTopRatedTV) =>\r\n    ({\r\n      type: 'tmdb/tv/top_rated/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/top_rated/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/top_rated/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getTopRatedTV = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getTopRated(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { tvApi } from '@src/api'\r\n\r\nimport { TOnTheAirTV } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TOnTheAirTV,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const onTheAirReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/onTheAir/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/onTheAir/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/onTheAir/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TOnTheAirTV) =>\r\n    ({\r\n      type: 'tmdb/tv/onTheAir/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/onTheAir/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/onTheAir/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getOnTheAirTV = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(actions.setData(await tvApi.getOnTheAir(page)))\r\n    dispatch(actions.setLoadingStatus(false))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { accountApi } from '@src/api'\r\n\r\nimport { TResult } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TResult,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const watchlistReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/watchlist/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/watchlist/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/watchlist/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TResult) =>\r\n    ({\r\n      type: 'tmdb/tv/watchlist/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/watchlist/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/watchlist/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getWatchList = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(\r\n        await accountApi.getTVWatchList(\r\n          getState().account.profileData!.id,\r\n          page\r\n        )\r\n      )\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from '../../..'\r\n\r\nimport { Dispatch } from 'redux'\r\nimport { moviesApi, accountApi } from '@src/api'\r\n\r\nimport { TResult } from '../types'\r\nimport { TResponseError } from '@src/api/types'\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\ntype TInitialState = typeof initialState\r\n\r\nlet initialState = {\r\n  data: {} as TResult,\r\n  isLoading: false,\r\n  error: null as TResponseError | null,\r\n}\r\n\r\nexport const favoritelistReducer = (\r\n  state = initialState,\r\n  action: ActionsTypes\r\n): TInitialState => {\r\n  switch (action.type) {\r\n    case 'tmdb/tv/favoritelist/SET_ITEMS':\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n      }\r\n    case 'tmdb/tv/favoritelist/SET_LOADING_STATUS':\r\n      return { ...state, isLoading: action.payload.isLoading }\r\n    case 'tmdb/tv/favoritelist/SET_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  setData: (data: TResult) =>\r\n    ({\r\n      type: 'tmdb/tv/favoritelist/SET_ITEMS',\r\n      payload: { data },\r\n    } as const),\r\n  setLoadingStatus: (isLoading: boolean) =>\r\n    ({\r\n      type: 'tmdb/tv/favoritelist/SET_LOADING_STATUS',\r\n      payload: { isLoading },\r\n    } as const),\r\n  setError: (error: TResponseError | null) =>\r\n    ({\r\n      type: 'tmdb/tv/favoritelist/SET_ERROR',\r\n      payload: { error },\r\n    } as const),\r\n}\r\n\r\nexport const getFavoriteList = (page?: number): ThunkType => async (\r\n  dispatch: Dispatch<ActionsTypes>,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch(actions.setLoadingStatus(true))\r\n    dispatch(\r\n      actions.setData(\r\n        await accountApi.getTVFavoriteList(\r\n          getState().account.profileData!.id,\r\n          page\r\n        )\r\n      )\r\n    )\r\n    dispatch(actions.setLoadingStatus(false))\r\n    dispatch(actions.setError(null))\r\n  } catch (error) {\r\n    dispatch(actions.setError(error.response))\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { currentTVReducer, getTVDetails } from './currentTV'\r\nimport { recommendationsReducer, getRecommendations } from './recommendations'\r\nimport { similarReducer, getSimilarTV } from './similar'\r\nimport { discoveredReducer, getDiscoveredTV } from './discovered'\r\nimport { airingTodayReducer, getAiringTodayTV } from './airingToday'\r\nimport { popularReducer, getPopularTV } from './popular'\r\nimport { topRatedReducer, getTopRatedTV } from './topRated'\r\nimport { onTheAirReducer, getOnTheAirTV } from './onTheAir'\r\nimport { watchlistReducer, getWatchList } from './watchlist'\r\nimport { favoritelistReducer, getFavoriteList } from './favoritelist'\r\n\r\nexport const tvReducer = combineReducers({\r\n  currentTV: currentTVReducer,\r\n  recommendations: recommendationsReducer,\r\n  similar: similarReducer,\r\n  popular: popularReducer,\r\n  airingToday: airingTodayReducer,\r\n  onTheAir: onTheAirReducer,\r\n  topRated: topRatedReducer,\r\n  discovered: discoveredReducer,\r\n  watchlist: watchlistReducer,\r\n  favoritelist: favoritelistReducer,\r\n})\r\n\r\nexport const actions = {\r\n  getRecommendations,\r\n  getTVDetails,\r\n  getSimilarTV,\r\n  getDiscoveredTV,\r\n  getAiringTodayTV,\r\n  getPopularTV,\r\n  getTopRatedTV,\r\n  getOnTheAirTV,\r\n  getWatchList,\r\n  getFavoriteList,\r\n}\r\n","import { AppStateType } from '@src/store'\r\n\r\nexport const getDetails = (state: AppStateType) => state.tv.currentTV\r\nexport const getSimilar = (state: AppStateType) => state.tv.similar\r\nexport const getRecommendations = (state: AppStateType) =>\r\n  state.tv.recommendations\r\n\r\nexport const getPopular = (state: AppStateType) => state.tv.popular\r\nexport const getOnTheAir = (state: AppStateType) => state.tv.onTheAir\r\nexport const getAiringToday = (state: AppStateType) => state.tv.airingToday\r\nexport const getTopRated = (state: AppStateType) => state.tv.topRated\r\nexport const getDiscovered = (state: AppStateType) => state.tv.discovered\r\nexport const getWatchList = (state: AppStateType) => state.tv.watchlist\r\nexport const getFavoriteList = (state: AppStateType) => state.tv.favoritelist\r\n","import { useSelector } from 'react-redux'\r\nimport { useActions } from '@src/hooks/useActions'\r\nimport { actions, tvReducer } from './reducers'\r\nimport {\r\n  getAiringToday,\r\n  getOnTheAir,\r\n  getPopular,\r\n  getRecommendations,\r\n  getSimilar,\r\n  getDetails,\r\n  getTopRated,\r\n  getDiscovered,\r\n  getWatchList,\r\n  getFavoriteList,\r\n} from './selectors'\r\n\r\nexport { tvReducer }\r\n\r\nexport const tv = {\r\n  currentTV: {\r\n    useDetails: () => useSelector(getDetails),\r\n  },\r\n  usePopular: () => useSelector(getPopular),\r\n  useAiringToday: () => useSelector(getAiringToday),\r\n  useOnTheAir: () => useSelector(getOnTheAir),\r\n  useTopRated: () => useSelector(getTopRated),\r\n  useActions: (): typeof actions => useActions(actions),\r\n  useSimilar: () => useSelector(getSimilar),\r\n  useRecommendations: () => useSelector(getRecommendations),\r\n  useWatchList: () => useSelector(getWatchList),\r\n  useFavoriteList: () => useSelector(getFavoriteList),\r\n  useDiscovered: () => useSelector(getDiscovered),\r\n}\r\n","import React from 'react'\r\nimport { getImageLink } from '@src/api'\r\nimport { TTV } from '@src/store/modules/tv/types'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { CardItem } from './CardItem'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\ntype TCard = {\r\n  card: TTV\r\n  isLoading: boolean\r\n}\r\nconst useStyles = makeStyles({\r\n  media: {\r\n    maxWidth: '100%!important',\r\n    width: '100%',\r\n    display: 'block',\r\n  },\r\n  cardContent: {\r\n    alignSelf: 'end',\r\n    boxSizing: 'border-box',\r\n    width: '100%',\r\n  },\r\n  skeletonMedia: {\r\n    height: '400px',\r\n    maxWidth: '100%!important',\r\n    width: '100%',\r\n    display: 'block',\r\n  },\r\n})\r\nexport const TVCard: React.FC<TCard> = ({ card, isLoading }) => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const handleClick = React.useCallback(() => {\r\n    if (card.id) history.push('/tv/' + card.id.toString())\r\n  }, [card])\r\n\r\n  return (\r\n    <CardItem type=\"tv\" id={card?.id} onClick={handleClick}>\r\n      {!isLoading ? (\r\n        <img\r\n          className={classes.media}\r\n          src={getImageLink(card.poster_path)}\r\n          alt=\"poster\"\r\n        />\r\n      ) : (\r\n        <Skeleton\r\n          animation=\"wave\"\r\n          variant=\"rect\"\r\n          className={classes.skeletonMedia}\r\n        >\r\n          <img className={classes.media} alt=\"skeleton\" />\r\n        </Skeleton>\r\n      )}\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography gutterBottom variant=\"body2\" component=\"h2\">\r\n          {!isLoading ? (\r\n            card.name\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"textSecondary\">\r\n          {!isLoading ? (\r\n            `${\r\n              card.first_air_date\r\n                ? new Date(card.first_air_date).toLocaleDateString()\r\n                : 'N/A'\r\n            }, TV`\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n        </Typography>\r\n      </CardContent>\r\n    </CardItem>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom'\r\nimport { parseQueryString } from '@src/lib/parse_query_string'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport {\r\n  TPopularTV,\r\n  TOnTheAirTV,\r\n  TAiringTodayTV,\r\n  TTopRatedTV,\r\n  TRecommendations,\r\n  TSimilarTV,\r\n} from '@src/store/modules/tv/types'\r\nimport { TResponseError } from '@src/api/types'\r\nimport { useTranslation } from 'react-i18next'\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n})\r\ntype T = {\r\n  content: {\r\n    data:\r\n      | TPopularTV\r\n      | TSimilarTV\r\n      | TOnTheAirTV\r\n      | TAiringTodayTV\r\n      | TRecommendations\r\n      | TTopRatedTV\r\n      | null\r\n    isLoading: boolean\r\n    error: TResponseError | null\r\n  }\r\n\r\n  getter: (...args: any[]) => any\r\n  withURLParam?: boolean\r\n}\r\nexport const Page: React.FC<T> = ({ content, getter, withURLParam }) => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const params = useLocation()\r\n  let pageNumber = parseQueryString(params.search).page || 1\r\n\r\n  const [page, setPage] = React.useState(parseInt(pageNumber))\r\n\r\n  const switchPage = (page: number) => {\r\n    setPage(page)\r\n    history.push(`?page=${page}`)\r\n  }\r\n\r\n  const matchedParams = useRouteMatch().params as any\r\n  const tvID = parseInt(matchedParams.id || '0')\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    if (!withURLParam) getter(page)\r\n    else getter(tvID, page)\r\n  }, [page, getter, tvID, i18n.language])\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    switchPage(value)\r\n  }\r\n  return (\r\n    <>\r\n      <CardsList>\r\n        {content.data?.results?.map((el) => (\r\n          <TVCard isLoading={content.isLoading} key={el.id} card={el} />\r\n        ))}\r\n      </CardsList>\r\n      <Pagination\r\n        className={classes.pagination}\r\n        count={content.data?.total_pages}\r\n        page={page}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useRouteMatch, Link, useHistory } from 'react-router-dom'\r\nimport { tv } from '@src/store/modules/tv'\r\n\r\nimport { Typography, Grid, Box } from '@material-ui/core'\r\nimport { getImageLink } from '@src/api'\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nimport { Expand } from '@src/components/Expand'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport { TVSeasonCard } from '@src/components/CardsList/TVSeasonCard'\r\nimport { CardSlider } from '@src/components/CardSlider'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n  header: {\r\n    backgroundPosition: 'right 0 top',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    height: '500px',\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'end',\r\n    height: '100%',\r\n  },\r\n  containerImage: {\r\n    textAlign: 'center',\r\n  },\r\n  containerExternalLinks: {\r\n    display: 'flex',\r\n    '& svg': {\r\n      fontSize: '2.25rem',\r\n    },\r\n  },\r\n  image: {\r\n    width: '80%',\r\n  },\r\n  imageSkeleton: {\r\n    height: '100%',\r\n    width: '70%',\r\n  },\r\n  slider: {\r\n    overflowX: 'auto',\r\n    marginBottom: '15px',\r\n    minWidth: '100%',\r\n  },\r\n  details: {\r\n    color: 'white',\r\n    display: 'flex',\r\n  },\r\n  zidx: {\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  grid: {\r\n    flexShrink: 0,\r\n  },\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  genresLink: {\r\n    padding: '2px',\r\n    '&:hover': {\r\n      backgroundColor: 'primary',\r\n    },\r\n  },\r\n  videoWrapper: {\r\n    position: 'relative',\r\n    paddingTop: ' 56.25%', //16:9\r\n    height: 0,\r\n    '& iframe': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n    },\r\n  },\r\n})\r\nexport const ByID: React.FC = () => {\r\n  const DESCRIPTION_BREAKPOINT = 25\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const { useDetails } = tv.currentTV\r\n  const { useRecommendations, useSimilar } = tv\r\n  const details = useDetails()\r\n  const videos = details.data?.videos\r\n  const detailsOverview = details.data?.overview?.split(' ') || []\r\n  const recommendations = useRecommendations()\r\n  const similar = useSimilar()\r\n\r\n  const matchedParams = useRouteMatch().params as { id: string }\r\n\r\n  let tvID = parseInt(matchedParams.id || '1')\r\n\r\n  const { getTVDetails, getRecommendations, getSimilarTV } = tv.useActions()\r\n\r\n  const [t, i18n] = useTranslation()\r\n\r\n  React.useEffect(() => {\r\n    getTVDetails(tvID)\r\n    getRecommendations(tvID, 1)\r\n    getSimilarTV(tvID, 1)\r\n  }, [tvID, i18n.language])\r\n  if (details.error?.status === 404) history.push('/404')\r\n  return (\r\n    <>\r\n      <Grid alignItems=\"stretch\" container spacing={2}>\r\n        <Grid className={classes.zidx} item xs={12} sm={3}>\r\n          {!details.isLoading ? (\r\n            <div className={classes.container}>\r\n              <div className={classes.containerImage}>\r\n                <img\r\n                  className={classes.image}\r\n                  src={getImageLink(details.data?.poster_path)}\r\n                  alt=\"poster\"\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={classes.container}>\r\n              <Skeleton\r\n                className={classes.imageSkeleton}\r\n                animation=\"wave\"\r\n                variant=\"rect\"\r\n              ></Skeleton>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        <Grid className={classes.zidx} item xs={12} sm={9}>\r\n          <Typography variant=\"h4\" component=\"h4\">\r\n            {!details.isLoading ? (\r\n              `${details.data?.name}(${\r\n                details.data?.first_air_date\r\n                  ? new Date(details.data?.first_air_date).getFullYear()\r\n                  : 'N/A'\r\n              })`\r\n            ) : (\r\n              <Skeleton animation=\"wave\" variant=\"text\" />\r\n            )}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"h4\">\r\n            {details.data?.original_name ? (\r\n              `${details.data?.original_name}`\r\n            ) : (\r\n              <Skeleton animation=\"wave\" variant=\"text\" />\r\n            )}\r\n          </Typography>\r\n          {!details.isLoading ? (\r\n            <Grid\r\n              style={{ display: 'flex', alignItems: 'center' }}\r\n              item\r\n              xs={12}\r\n            >\r\n              <Rating\r\n                max={10}\r\n                size=\"medium\"\r\n                name=\"read-only\"\r\n                value={details.data?.vote_average}\r\n                readOnly\r\n              />\r\n              <Box>{details.data?.vote_average}</Box>\r\n            </Grid>\r\n          ) : (\r\n            <Skeleton animation=\"wave\" variant=\"text\" />\r\n          )}\r\n          <Grid container>\r\n            <Grid style={{ marginTop: '15px' }} item xs={12}>\r\n              <Typography\r\n                style={{ marginBottom: '10px' }}\r\n                variant=\"h5\"\r\n                component=\"h5\"\r\n              >\r\n                {t('details info').toUpperCase()}\r\n              </Typography>\r\n              {!details.isLoading ? (\r\n                <>\r\n                  {details.data?.status && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details status')}:{details.data?.status}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.first_air_date && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details release date')}:{' '}\r\n                      {new Date(\r\n                        details.data?.first_air_date\r\n                      ).toLocaleDateString()}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.episode_run_time && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details episode duration')}:\r\n                      {` ${Math.trunc(\r\n                        details.data?.episode_run_time.reduce(\r\n                          (acc, el) => acc + el,\r\n                          0\r\n                        ) / details.data?.episode_run_time.length\r\n                      )} ${t('details minutes')}`}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.number_of_episodes && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details episodes')}:{' '}\r\n                      {' ' + details.data?.number_of_episodes}\r\n                    </Typography>\r\n                  )}\r\n                  {details.data?.number_of_seasons && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details seasons')}:{' '}\r\n                      {' ' + details.data?.number_of_seasons}\r\n                    </Typography>\r\n                  )}\r\n\r\n                  {details.data?.genres && details.data?.genres.length > 0 && (\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {t('details genres')}:\r\n                      {details.data?.genres.map((el, idx) => (\r\n                        <Link\r\n                          className={classes.genresLink}\r\n                          key={el.id}\r\n                          to={'genres/' + el.id}\r\n                        >\r\n                          {el.name + ' '}\r\n                        </Link>\r\n                      ))}\r\n                    </Typography>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <Skeleton\r\n                  style={{ height: '150px' }}\r\n                  animation=\"wave\"\r\n                  variant=\"rect\"\r\n                />\r\n              )}\r\n\r\n              <Typography variant=\"body1\" component=\"h6\"></Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid style={{ marginTop: '15px' }} item xs={12}>\r\n            {!details.isLoading ? (\r\n              <>\r\n                <Typography\r\n                  style={{ marginBottom: '10px' }}\r\n                  variant=\"h5\"\r\n                  component=\"h5\"\r\n                >\r\n                  {t('details description').toUpperCase()}\r\n                </Typography>\r\n                {details.data?.overview && (\r\n                  <div>\r\n                    <Typography variant=\"body1\" component=\"h6\">\r\n                      {detailsOverview\r\n                        ?.slice(0, DESCRIPTION_BREAKPOINT)\r\n                        .join(' ')}\r\n                    </Typography>\r\n                    {detailsOverview?.length - DESCRIPTION_BREAKPOINT > 0 && (\r\n                      <Expand>\r\n                        <Typography variant=\"body1\" component=\"h6\">\r\n                          {detailsOverview\r\n                            ?.slice(DESCRIPTION_BREAKPOINT)\r\n                            .join(' ')}\r\n                        </Typography>\r\n                      </Expand>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <Skeleton\r\n                style={{ height: '50px' }}\r\n                animation=\"wave\"\r\n                variant=\"rect\"\r\n              />\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n        {!details.isLoading ? (\r\n          <>\r\n            {videos?.results.length > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('details video').toUpperCase()}\r\n                </Typography>\r\n                <Grid\r\n                  container\r\n                  className={classes.slider}\r\n                  style={{ flexWrap: 'nowrap', overflowY: 'hidden' }}\r\n                >\r\n                  {videos?.results?.map((el) => (\r\n                    <Grid\r\n                      style={{ flexShrink: 0 }}\r\n                      xs={12}\r\n                      sm={4}\r\n                      md={3}\r\n                      lg={3}\r\n                      key={el.key}\r\n                    >\r\n                      <div className={classes.videoWrapper}>\r\n                        <iframe\r\n                          frameBorder=\"0\"\r\n                          allowFullScreen\r\n                          src={`https://www.youtube.com/embed/${el.key}`}\r\n                          title={el.name}\r\n                        ></iframe>\r\n                      </div>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n        {/* {details.data?.seasons ? (\r\n          <>\r\n            <Typography variant=\"button\" component=\"h6\">\r\n              Сезоны{' '}\r\n            </Typography>\r\n            <CardSlider>\r\n              {details.data?.seasons.map((el) => (\r\n                <TVSeasonCard\r\n                  isLoading={details.isLoading}\r\n                  card={el}\r\n                  key={el.id}\r\n                >\r\n                  {' Сезон!'}\r\n                </TVSeasonCard>\r\n              ))}\r\n            </CardSlider>\r\n          </>\r\n        ) : null} */}\r\n\r\n        {!recommendations.isLoading ? (\r\n          <>\r\n            {recommendations.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('details recommend')}{' '}\r\n                  <Link to={'recommendations/' + details.data?.id}>\r\n                    {t('details show all')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {recommendations?.data?.results?.map((el) => (\r\n                    <TVCard\r\n                      isLoading={recommendations.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n\r\n        {!similar.isLoading ? (\r\n          <>\r\n            {similar.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('details similar tv')}{' '}\r\n                  <Link to={'similar/' + details.data?.id}>\r\n                    {' '}\r\n                    {t('details show all')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {similar.data?.results?.map((el) => (\r\n                    <TVCard\r\n                      isLoading={similar.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { parseQueryString } from '@src/lib/parse_query_string'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport { useTranslation } from 'react-i18next'\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n})\r\nexport const ByGenre: React.FC = () => {\r\n  const classes = useStyles()\r\n  const tvs = tv.useDiscovered()\r\n  const history = useHistory()\r\n  const params = useLocation()\r\n  let pageNumber = parseQueryString(params.search).page || 1\r\n\r\n  const [page, setPage] = React.useState(parseInt(pageNumber))\r\n\r\n  const matchedParams = useRouteMatch().params as { genre: string }\r\n  const genre_id = matchedParams.genre\r\n  const { getDiscoveredTV } = tv.useActions()\r\n\r\n  const switchPage = (page: number) => {\r\n    setPage(page)\r\n    history.push(`?page=${page}`)\r\n  }\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    getDiscoveredTV({ with_genres: genre_id, page })\r\n  }, [page, genre_id, i18n.language])\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    switchPage(value)\r\n  }\r\n  return (\r\n    <>\r\n      <CardsList>\r\n        {tvs.data?.results?.map((el) => (\r\n          <TVCard isLoading={tvs.isLoading} key={el.id} card={el} />\r\n        ))}\r\n      </CardsList>\r\n      <Pagination\r\n        className={classes.pagination}\r\n        count={tvs?.data?.total_pages}\r\n        page={page}\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import { Popular } from './popular'\r\nimport { AiringToday } from './airing-today'\r\nimport { ByID } from './by-id'\r\nimport { Recommendations } from './recommendations'\r\nimport { Similar } from './similar'\r\nimport { TopRated } from './top-rated'\r\nimport { OnTheAir } from './on-the-air'\r\nimport { ByGenre } from './by-genre'\r\n\r\nexport const tv = {\r\n  ByID,\r\n  Popular,\r\n  Recommendations,\r\n  ByGenre,\r\n  TopRated,\r\n  AiringToday,\r\n  Similar,\r\n  OnTheAir,\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const Popular: React.FC = () => {\r\n  const { getPopularTV } = tv.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('popular tv') + ' ' + t('tv')}\r\n      </Typography>\r\n      <Page content={tv.usePopular()} getter={getPopularTV} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\n\r\nexport const Recommendations: React.FC = () => {\r\n  const { getRecommendations } = tv.useActions()\r\n  return <Page content={tv.useRecommendations()} getter={getRecommendations} withURLParam />\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const TopRated: React.FC = () => {\r\n  const { getTopRatedTV } = tv.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('top-rated tv') + ' ' + t('tv')}\r\n      </Typography>\r\n      <Page content={tv.useTopRated()} getter={getTopRatedTV} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const AiringToday: React.FC = () => {\r\n  const { getAiringTodayTV } = tv.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('airing-today tv') + ' ' + t('tv')}\r\n      </Typography>\r\n      <Page content={tv.useAiringToday()} getter={getAiringTodayTV} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\n\r\nexport const Similar: React.FC = () => {\r\n  const { getSimilarTV } = tv.useActions()\r\n  return <Page content={tv.useSimilar()} getter={getSimilarTV} withURLParam />\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../_base/baseTV'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const OnTheAir: React.FC = () => {\r\n  const { getOnTheAirTV } = tv.useActions()\r\n  const [t] = useTranslation()\r\n  return (\r\n    <>\r\n      <Typography variant=\"button\" component=\"h6\">\r\n        {t('on-the-air tv') + ' ' + t('tv')}\r\n      </Typography>\r\n      <Page content={tv.useOnTheAir()} getter={getOnTheAirTV} />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { search } from '@src/store/modules/search'\r\nimport { parseQueryString } from '@src/lib/parse_query_string'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport { CardItem } from '@src/components/CardsList/CardItem'\r\nimport { useTranslation } from 'react-i18next'\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n})\r\nexport const Search: React.FC = () => {\r\n  const classes = useStyles()\r\n  const searchRes = search.useResult()\r\n  const history = useHistory()\r\n  const params = useLocation()\r\n  let pageNumber = parseQueryString(params.search).page || 1\r\n  let query = parseQueryString(params.search).query || ''\r\n  const [page, setPage] = React.useState(parseInt(pageNumber))\r\n  const { find } = search.useActions()\r\n\r\n  const switchPage = (page: number) => {\r\n    setPage(page)\r\n    history.push(`?page=${page}&query=${query}`)\r\n  }\r\n  const [t, i18n] = useTranslation()\r\n\r\n  React.useEffect(() => {\r\n    //@ts-ignore\r\n    find(query, page).catch((err: any) => {\r\n      if (err.status === 422) switchPage(1)\r\n    })\r\n  }, [query, page, i18n.language])\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    switchPage(value)\r\n  }\r\n  return (\r\n    <>\r\n      <div>\r\n        {t('search results', { count: searchRes?.total_results })}\r\n        <b>{' ' + query}</b>\r\n      </div>\r\n      {searchRes?.total_results ? (\r\n        <>\r\n          <CardsList>\r\n            {searchRes.results?.map((el: any) => {\r\n              switch (el.media_type) {\r\n                case 'movie':\r\n                  return <MovieCard isLoading={false} key={el.id} card={el} />\r\n                case 'tv':\r\n                  return <TVCard isLoading={false} key={el.id} card={el} />\r\n                default:\r\n                  return <CardItem key={el.id}>N/A(Persona)</CardItem>\r\n              }\r\n            })}\r\n          </CardsList>\r\n          <Pagination\r\n            className={classes.pagination}\r\n            count={searchRes?.total_pages}\r\n            page={page}\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onChange={handleChange}\r\n          />\r\n        </>\r\n      ) : null}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { CardsList } from '@src/components/CardsList'\r\n\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport { Link } from 'react-router-dom'\r\nimport { Typography } from '@material-ui/core'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nconst useStyles = makeStyles({\r\n  pagination: {\r\n    '& ul': { justifyContent: 'center', margin: '10px 0' },\r\n  },\r\n  slider: {\r\n    overflowX: 'auto',\r\n    marginBottom: '15px',\r\n    minWidth: '100%',\r\n  },\r\n})\r\n\r\nexport const Home: React.FC = () => {\r\n  const classes = useStyles()\r\n  const popularMovies = movies.usePopular()\r\n  const popularTTV = tv.usePopular()\r\n\r\n  const { getPopularMovies } = movies.useActions()\r\n  const { getPopularTV } = tv.useActions()\r\n  const [t, i18n] = useTranslation()\r\n  React.useEffect(() => {\r\n    getPopularMovies(1)\r\n    getPopularTV(1)\r\n  }, [i18n.language])\r\n\r\n  return (\r\n    <>\r\n      <Typography\r\n        style={{ textAlign: 'center' }}\r\n        variant=\"button\"\r\n        component=\"h6\"\r\n      >\r\n        <Link to={'/movies'}>{t('popular movies link')}</Link>\r\n      </Typography>\r\n      <div className={classes.slider}>\r\n        <CardsList style={{ flexWrap: 'nowrap' }}>\r\n          {popularMovies.data?.results?.map((el) => (\r\n            <MovieCard\r\n              isLoading={popularMovies.isLoading}\r\n              key={el.id}\r\n              card={el}\r\n            />\r\n          ))}\r\n        </CardsList>\r\n      </div>\r\n      <Typography\r\n        style={{ textAlign: 'center' }}\r\n        variant=\"button\"\r\n        component=\"h6\"\r\n      >\r\n        <Link to={'/tv'}>{t('popular tv link')}</Link>\r\n      </Typography>\r\n      <div className={classes.slider}>\r\n        <CardsList style={{ flexWrap: 'nowrap' }}>\r\n          {popularTTV.data?.results?.map((el) => (\r\n            <TVCard isLoading={popularTTV.isLoading} key={el.id} card={el} />\r\n          ))}\r\n        </CardsList>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { Box, Card } from '@material-ui/core'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { account } from '@src/store/modules/account'\r\nimport { CardsList } from '@src/components/CardsList'\r\nimport { MovieCard } from '@src/components/CardsList/MovieCard'\r\nimport { Link } from 'react-router-dom'\r\nimport { TVCard } from '@src/components/CardsList/TVCard'\r\nimport { CardSlider } from '@src/components/CardSlider'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport const Profile: React.FC = () => {\r\n  const [value, setValue] = React.useState(0)\r\n\r\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue)\r\n  }\r\n  const profileName = account.useProfileDetails()?.username\r\n  const moviesWL = movies.useWatchList()\r\n  const moviesFL = movies.useFavoriteList()\r\n  const moviesAct = movies.useActions()\r\n\r\n  const tvWL = tv.useWatchList()\r\n  const tvFL = tv.useFavoriteList()\r\n  const tvAct = tv.useActions()\r\n\r\n  const [t, i18n] = useTranslation()\r\n\r\n  React.useEffect(() => {\r\n    moviesAct.getWatchList(1)\r\n    moviesAct.getFavoriteList(1)\r\n    tvAct.getWatchList(1)\r\n    tvAct.getFavoriteList(1)\r\n  }, [i18n.language])\r\n  return (\r\n    <div>\r\n      <Typography component=\"h3\" variant=\"h3\">\r\n        {t('profile greeting', { name: profileName })}\r\n      </Typography>\r\n      <div>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          aria-label=\"simple tabs example\"\r\n        >\r\n          <Tab label={t('movies')} />\r\n          <Tab label={t('tv')} />\r\n        </Tabs>\r\n      </div>\r\n      <TabPanel value={value} index={0}>\r\n        {!moviesWL.isLoading ? (\r\n          <>\r\n            {moviesWL.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('profile watchlist')}{' '}\r\n                  <Link to={'/profile/movies/watchlist'}>\r\n                    {t('profile show all list')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {moviesWL.data?.results?.map((el) => (\r\n                    <MovieCard\r\n                      isLoading={moviesWL.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n        {!moviesFL.isLoading ? (\r\n          <>\r\n            {moviesFL.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('profile favoritelist')}{' '}\r\n                  <Link to={'/profile/movies/favoritelist'}>\r\n                    {t('profile show all list')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {moviesFL.data?.results?.map((el) => (\r\n                    <MovieCard\r\n                      isLoading={moviesFL.isLoading}\r\n                      key={el.id}\r\n                      card={el}\r\n                    />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        {!tvWL.isLoading ? (\r\n          <>\r\n            {tvWL.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('profile watchlist')}{' '}\r\n                  <Link to={'/profile/tv/watchlist'}>\r\n                    {t('profile show all list')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {tvWL.data?.results?.map((el) => (\r\n                    <TVCard isLoading={tvWL.isLoading} key={el.id} card={el} />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n        {!tvFL.isLoading ? (\r\n          <>\r\n            {tvFL.data.total_results > 0 && (\r\n              <>\r\n                <Typography variant=\"button\" component=\"h6\">\r\n                  {t('profile favoritelist')}{' '}\r\n                  <Link to={'/profile/tv/favoritelist'}>\r\n                    {t('profile show all list')}\r\n                  </Link>\r\n                </Typography>\r\n                <CardSlider>\r\n                  {tvFL.data?.results?.map((el) => (\r\n                    <TVCard isLoading={tvFL.isLoading} key={el.id} card={el} />\r\n                  ))}\r\n                </CardSlider>\r\n              </>\r\n            )}\r\n          </>\r\n        ) : null}\r\n      </TabPanel>\r\n    </div>\r\n  )\r\n}\r\ntype TabPanelProps = {\r\n  children?: React.ReactNode\r\n  index: any\r\n  value: any\r\n}\r\nfunction TabPanel(props: TabPanelProps) {\r\n  const { children, value, index, ...other } = props\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../../_base/baseMovies'\r\n\r\nexport const FavoriteList: React.FC = () => {\r\n  const { getFavoriteList } = movies.useActions()\r\n  return <Page content={movies.useFavoriteList()} getter={getFavoriteList} />\r\n}\r\n","import { Profile } from './profile'\r\nimport { movies } from './movies'\r\nimport { tv } from './tv'\r\n\r\nexport const profile = {\r\n  Profile,\r\n  movies,\r\n  tv,\r\n}\r\n","import { FavoriteList } from './favoritelist'\r\nimport { WatchList } from './watchlist'\r\n\r\nexport const movies = {\r\n  FavoriteList,\r\n  WatchList,\r\n}\r\n","import React from 'react'\r\nimport { movies } from '@src/store/modules/movies'\r\nimport { Page } from '../../_base/baseMovies'\r\n\r\nexport const WatchList: React.FC = () => {\r\n  const { getWatchList } = movies.useActions()\r\n  return <Page content={movies.useWatchList()} getter={getWatchList} />\r\n}\r\n","import { FavoriteList } from './favoritelist'\r\nimport { WatchList } from './watchlist'\r\n\r\nexport const tv = {\r\n  FavoriteList,\r\n  WatchList,\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../../_base/baseTV'\r\n\r\nexport const FavoriteList: React.FC = () => {\r\n  const { getFavoriteList } = tv.useActions()\r\n  return <Page content={tv.useFavoriteList()} getter={getFavoriteList} />\r\n}\r\n","import React from 'react'\r\nimport { tv } from '@src/store/modules/tv'\r\nimport { Page } from '../../_base/baseTV'\r\n\r\nexport const WatchList: React.FC = () => {\r\n  const { getWatchList } = tv.useActions()\r\n  return <Page content={tv.useWatchList()} getter={getWatchList} />\r\n}\r\n","import React from 'react';\r\nimport { Route, RouteProps, Redirect } from 'react-router-dom';\r\nimport { auth } from '@src/store/modules/auth';\r\n\r\nexport const PrivateRoute: React.ComponentType<RouteProps> = (props) => {\r\n  const isAuth = auth.useStatus();\r\n  if (!isAuth) return <Redirect to=\"/login\" />;\r\n  return <Route {...props} />;\r\n};\r\n","import React, { useEffect } from 'react'\r\nimport { Switch, Route, useLocation } from 'react-router-dom'\r\n\r\nimport Container from '@material-ui/core/Container'\r\n\r\nimport { Header } from '@src/components/Header'\r\nimport { Auth, movies, tv, Search, Home, profile } from '@src/pages'\r\n\r\nimport { account } from '@src/store/modules/account'\r\nimport { auth } from '@src/store/modules/auth'\r\nimport { localStorage } from './lib/local-storage'\r\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core'\r\nimport { PrivateRoute } from './hoc/private-route'\r\n\r\nconst theme = createMuiTheme({})\r\nexport const App = () => {\r\n  const { getProfile } = account.useActions()\r\n  const { updateAuthStatus } = auth.useActions()\r\n  useEffect(() => {\r\n    const tryToGetProfile = async () => {\r\n      try {\r\n        const session_id: string = await localStorage.load('session').session_id\r\n\r\n        if (session_id) {\r\n          await getProfile()\r\n          await updateAuthStatus(true)\r\n        }\r\n      } catch {}\r\n    }\r\n    tryToGetProfile()\r\n  }, [])\r\n  const { pathname } = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [pathname])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <div>\r\n        <Header />\r\n        <Container maxWidth=\"lg\">\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/profile/\" component={profile.Profile} />\r\n            <PrivateRoute exact path=\"/profile/tv/watchlist\" component={profile.tv.WatchList} />\r\n            <PrivateRoute exact path=\"/profile/tv/favoritelist\" component={profile.tv.FavoriteList} />\r\n            <PrivateRoute exact path=\"/profile/movies/watchlist\" component={profile.movies.WatchList} />\r\n            <PrivateRoute exact path=\"/profile/movies/favoritelist\" component={profile.movies.FavoriteList} />\r\n\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/login\" component={Auth} />\r\n\r\n            <Route exact path=\"/movies/\" component={movies.Popular} />\r\n            <Route exact path=\"/movies/now-playing\" component={movies.NowPlaying}/>\r\n            <Route exact path=\"/movies/top-rated\" component={movies.TopRated} />\r\n            <Route exact path=\"/movies/upcoming\" component={movies.Upcoming} />\r\n            <Route exact path=\"/movies/genres/:genre\" component={movies.ByGenre} />\r\n            <Route exact path=\"/movies/:id\" component={movies.ByID} />\r\n            <Route exact path=\"/movies/recommendations/:id\" component={movies.Recommendations}/>\r\n            <Route exact path=\"/movies/similar/:id\" component={movies.Similar}/>\r\n\r\n            <Route exact path=\"/tv/\" component={tv.Popular} />\r\n            <Route exact path=\"/tv/top-rated\" component={tv.TopRated} />\r\n            <Route exact path=\"/tv/on-the-air\" component={tv.OnTheAir} />\r\n            <Route exact path=\"/tv/airing-today\" component={tv.AiringToday} />\r\n            <Route exact path=\"/tv/genres/:genre\" component={tv.ByGenre} />\r\n            <Route exact path=\"/tv/recommendations/:id\" component={tv.Recommendations}/>\r\n            <Route exact path=\"/tv/similar/:id\" component={tv.Similar} />\r\n            <Route exact path=\"/tv/:id\" component={tv.ByID} />\r\n\r\n            <Route exact path=\"/search\" component={Search} />\r\n\r\n            <Route render={() => <h4>404 not found</h4>} />\r\n          </Switch>\r\n        </Container>\r\n      </div>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n","import {\r\n  applyMiddleware,\r\n  combineReducers,\r\n  compose,\r\n  createStore,\r\n  Action,\r\n} from 'redux'\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport { authReducer } from './modules/auth'\r\nimport { accountReducer } from './modules/account'\r\nimport { moviesReducer } from './modules/movies'\r\nimport { tvReducer } from './modules/tv'\r\nimport { searchReducer } from './modules/search'\r\n\r\nlet rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  account: accountReducer,\r\n  movies: moviesReducer,\r\n  tv: tvReducer,\r\n  search: searchReducer,\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\n\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends {\r\n  [key: string]: (...args: any[]) => infer U\r\n}\r\n  ? U\r\n  : never\r\n\r\nexport type BaseThunkType<\r\n  A extends Action = Action,\r\n  R = Promise<any>\r\n> = ThunkAction<R, AppStateType, unknown, A>\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n","let en = {\r\n  translation: {\r\n    'sign in': 'Войти',\r\n    home: 'Home',\r\n    movies: 'фильмы',\r\n    tv: 'сериалы',\r\n    'menu profile': 'Профиль',\r\n    'menu logout': 'Выйти',\r\n    'popular movies': 'Популярные',\r\n    'now-playing movies': 'Выходящие сейчас',\r\n    'top-rated movies': 'Высоко оцененные',\r\n    'upcoming movies': 'Скоро выходящие',\r\n    'tv series': 'сериалы',\r\n    'popular tv': 'Популярные',\r\n    'airing-today tv': 'Выходящие сейчас',\r\n    'top-rated tv': 'Высоко оцененные',\r\n    'on-the-air tv': 'Скоро выходящие',\r\n    'search panel no-results': 'Нет результатов',\r\n    'add to watchlist': 'Добавить в запланировано',\r\n    'remove from watchlist': 'Удалить из запланировано',\r\n    'add to favoritelist': 'Добавить в избранное',\r\n    'remove from favoritelist': 'Удалить из избранного',\r\n    required: 'Required',\r\n    'email label': 'Почта',\r\n    'pass label': 'Пароль',\r\n    'form question': 'Нет аккаунта? Создать',\r\n    'popular movies link': 'Популярные фильмы',\r\n    'popular tv link': 'Популярные сериалы',\r\n    'details info': 'информация',\r\n    'details status': 'Статус',\r\n    'details release date': 'Дата выхода',\r\n    'details duration': 'Длительность',\r\n    'details tag': 'Тег',\r\n    'details budget': 'Бюджет',\r\n    'details genres': 'Жанры',\r\n    'details description': 'описание',\r\n    'details video': 'видео',\r\n    'details recommend': 'Рекомендации',\r\n    'details show all': 'показать все',\r\n    'details similar movies': 'Схожие фильмы',\r\n    'details similar tv': 'Схожие сериалы',\r\n    'details seasons': 'Сезонов',\r\n    'details episodes': 'Эпизодов',\r\n    'details minutes': 'мин',\r\n    'details hours': 'ч',\r\n    'details episode duration': 'Длительность эпихода',\r\n    'search results': 'Найдено {{count}} совпадений для',\r\n    'profile watchlist': 'Запланировано',\r\n    'profile favoritelist': 'Избранные',\r\n    'profile show all list': 'Показать весь список',\r\n    'profile greeting': 'Здравсвуйте, {{name}}!',\r\n  },\r\n}\r\n\r\nexport default en\r\n","let en = {\r\n  translation: {\r\n    'sign in': 'Sign In',\r\n    home: 'Home',\r\n    movies: 'movies',\r\n    tv: 'TV',\r\n    'menu profile': 'Profile',\r\n    'menu logout': 'Logout',\r\n    'popular movies': 'Popular',\r\n    'now-playing movies': 'Now playing',\r\n    'top-rated movies': 'Top rated',\r\n    'upcoming movies': 'Upcoming',\r\n    'tv series': 'TV Series',\r\n    'popular tv': 'Popular',\r\n    'airing-today tv': 'Airing today',\r\n    'top-rated tv': 'Top rated',\r\n    'on-the-air tv': 'On the air',\r\n    'search panel no-results': 'No results found',\r\n    'add to watchlist': 'Add to watchlist',\r\n    'remove from watchlist': 'Remove from watchlist',\r\n    'add to favoritelist': 'Add to favoritelist',\r\n    'remove from favoritelist': 'Remove from favoritelist',\r\n    required: 'Required',\r\n    'email label': 'Email Address',\r\n    'pass label': 'Password',\r\n    'form question': \"Don't have an account? Sign Up\",\r\n    'popular movies link': 'Popular movies',\r\n    'popular tv link': 'Popular TV',\r\n    'details info': 'information',\r\n    'details status': 'Status',\r\n    'details release date': 'Release date',\r\n    'details duration': 'Duration',\r\n    'details tag': 'Tag',\r\n    'details budget': 'Budget',\r\n    'details genres': 'Genres',\r\n    'details description': 'description',\r\n    'details video': 'video',\r\n    'details recommend': 'Recommendations',\r\n    'details show all': 'show all',\r\n    'details similar movies': 'Similar movies',\r\n    'details similar tv': 'Similar TV',\r\n    'details seasons': 'Seasons',\r\n    'details episodes': 'Episodes',\r\n    'details minutes': 'min',\r\n    'details hours': 'h',\r\n    'details episode duration': 'Episode duration',\r\n    'search results': 'Found {{count}} matches for',\r\n    'profile watchlist': 'Watchlist',\r\n    'profile favoritelist': 'Favoritelist',\r\n    'profile show all list': 'show all list',\r\n    'profile greeting': 'Hello, {{name}}!',\r\n  },\r\n}\r\n\r\nexport default en\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { App } from './App'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport './index.css'\r\n\r\nimport i18n from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport ru from './locales/ru'\r\nimport en from './locales/en'\r\n\r\ni18n.use(initReactI18next).init({ resources: { ru, en }, lng: 'ru' })\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}